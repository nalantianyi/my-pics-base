<!doctype html>
<html data-n-head-ssr lang="zh" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh%22%7D%7D">
  <head >
    <title>web性能优化（Lighthouse和performance）：从实际项目入手，如何监测性能问题、如何解决。 - 掘金</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover"><meta data-n-head="ssr" name="apple-itunes-app" content="app-id=987739104"><meta data-n-head="ssr" name="theme-color" content="#ffffff"><meta data-n-head="ssr" name="msapplication-TileColor" content="#da532c"><meta data-n-head="ssr" vmid="description" name="description" content="一篇文章演示如何监测项目的性能问题，一步一步来解决发现的web性能问题。使用工具Lighthouse和performance"><meta data-n-head="ssr" vmid="keywords" name="keywords" content="性能优化,前端,面试"><link data-n-head="ssr" rel="preconnect" href="//unpkg.byted-static.com/" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="//lf3-cdn-tos.bytescm.com" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="//mcs.snssdk.com" crossorigin="anonymous"><link data-n-head="ssr" rel="preconnect" href="//i.snssdk.com" crossorigin="anonymous"><link data-n-head="ssr" rel="dns-prefetch" href="//lf3-short.ibytedapm.com"><link data-n-head="ssr" rel="dns-prefetch" href="//lf3-cdn-tos.bytescm.com"><link data-n-head="ssr" rel="dns-prefetch" href="//api.juejin.cn"><link data-n-head="ssr" rel="dns-prefetch" href="//lf-cdn-tos.bytescm.com"><link data-n-head="ssr" rel="dns-prefetch" href="//unpkg.byted-static.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p1-juejin.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p3-juejin.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p6-juejin.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p9-juejin.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p1-jj.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p2-jj.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p6-jj.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//p9-jj.byteimg.com"><link data-n-head="ssr" rel="dns-prefetch" href="//mcs.snssdk.com"><link data-n-head="ssr" rel="dns-prefetch" href="//i.snssdk.com"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/favicons/apple-touch-icon.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="32x32" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/favicons/favicon-32x32.png"><link data-n-head="ssr" rel="icon" type="image/png" sizes="16x16" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/favicons/favicon-16x16.png"><link data-n-head="ssr" rel="mask-icon" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/favicons/safari-pinned-tab.svg" color="#1E80FF"><link data-n-head="ssr" rel="manifest" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/favicons/site.webmanifest"><link data-n-head="ssr" rel="search" title="掘金" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/search.xml" type="application/opensearchdescription+xml"><link data-n-head="ssr" rel="stylesheet" href="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/bytedesign.min.css"><link data-n-head="ssr" rel="canonical" href="https://juejin.cn/post/6965744691979485197"><script data-n-head="ssr" type="text/javascript" data-sdk-glue-default="load" src="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/rc-client-security-web-glue/1.0.0.19/sdk-glue.js"></script><script data-n-head="ssr" type="text/javascript" data-sdk-glue-default="init">
        (function (){
          var options = {
            bdms: {
              aid: 2608,
              paths: [
                '/growth_api/v1/publish_benefit_history',
                '/growth_api/v1/check_in',
                '/growth_api/v1/lottery/draw',
                '/growth_api/v1/lottery/ten_draw',
                '/web_shorten',
                '/user_api/v1/user/get',
                '/interact_api/v1/digg/save',
                '/interact_api/v1/digg/query_page',
                '/interact_api/v1/comment/list',
                '/interact_api/v1/comment/hots',
                '/content_api/v1/article/detail',
                '/user_api/v1/follow/followees',
                '/user_api/v1/follow/followers',
                '/interact_api/v1/follow/tag_list',
                '/recommend_api/v1/article/recommend_cate_feed',
              ]
            },
            verifyCenter: {
              interceptPathList: [
                '/user_api/v1/user/get',
                '/interact_api/v1/digg/save',
                '/interact_api/v1/digg/query_page',
                '/interact_api/v1/comment/list',
                '/interact_api/v1/comment/hots',
                '/content_api/v1/article/detail',
                '/user_api/v1/follow/followees',
                '/user_api/v1/follow/followers',
                '/interact_api/v1/follow/tag_list',
                '/recommend_api/v1/article/recommend_cate_feed',
              ],
              commonOptions: {
                aid: 2608,
              },
              captchaOptions: {
                showMode: 'mask',
              },
            }
          }
          window._SdkGlueInit(options)
        })();
        </script><script data-n-head="ssr" vmid="slardar" type="text/javascript" crossorigin="anonymous">;(function (w, d, u, b, n, pc, ga, ae, po, s, p, e, t, pp) {pc = 'precollect';ga = 'getAttribute';ae = 'addEventListener';po = 'PerformanceObserver';s = function (m) {p = [].slice.call(arguments);p.push(Date.now(), location.href);(m == pc ? s.p.a : s.q).push(p)};s.q = [];s.p = { a: [] };w[n] = s;e = document.createElement('script');e.src = u + '?bid=' + b + '&globalName=' + n;e.crossOrigin = u.indexOf('sdk-web') > 0 ? 'anonymous' : 'use-credentials';d.getElementsByTagName('head')[0].appendChild(e);if (ae in w) {s.pcErr = function (e) {e = e || w.event;t = e.target || e.srcElement;if (t instanceof Element || t instanceof HTMLElement) {if (t[ga]('integrity')) {w[n](pc, 'sri', t[ga]('href') || t[ga]('src'))} else {w[n](pc, 'st', { tagName: t.tagName, url: t[ga]('href') || t[ga]('src') })}} else {w[n](pc, 'err', e.error || e.message)}};s.pcRej = function (e) {e = e || w.event;w[n](pc, 'err', e.reason || (e.detail && e.detail.reason))};w[ae]('error', s.pcErr, true);w[ae]('unhandledrejection', s.pcRej, true);};if('PerformanceLongTaskTiming' in w) {pp = s.pp = { entries: [] };pp.observer = new PerformanceObserver(function (l) {pp.entries = pp.entries.concat(l.getEntries())});pp.observer.observe({ entryTypes: ['longtask', 'largest-contentful-paint','layout-shift'] })}})(window,document,'https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/browser.cn.js','2608','SlardarWeb')</script><script data-n-head="ssr" type="text/javascript" src="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/slardar-plugin/imageReport.js"></script><script data-n-head="ssr" type="text/javascript" src="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/static/cdn-retry/bundle-dcf007.js" id="cdn-retry" defer></script><script data-n-head="ssr" type="application/ld+json">[{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://juejin.cn/post/6965744691979485197"},"headline":"web性能优化（Lighthouse和performance）：从实际项目入手，如何监测性能问题、如何解决。","description":"一篇文章演示如何监测项目的性能问题，一步一步来解决发现的web性能问题。使用工具Lighthouse和performance","image":[],"author":{"@type":"Organization","name":"蓝蓝酱"},"publisher":{"@type":"Organization","name":"掘金","logo":{"@type":"ImageObject","url":"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg"}},"datePublished":"2021-05-24T06:47:34+00:00","dateModified":"2022-08-16T04:09:24+00:00"},{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","name":"稀土掘金","position":1,"item":"https://juejin.cn"},{"@type":"ListItem","name":"前端","position":2,"item":"https://juejin.cn/frontend"},{"@type":"ListItem","name":"文章","position":3}]}]</script><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/92905a0.js" as="script"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/60514e1.js" as="script"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/643346e.js" as="script"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/app.f81e9f9.css" as="style"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/cf91295.js" as="script"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/layouts/default.846c2b6.css" as="style"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/6ec0db9.js" as="script"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/2f4bee9.js" as="script"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/18.fe9b27a.css" as="style"><link rel="preload" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/884e1bc.js" as="script"><link rel="stylesheet" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/app.f81e9f9.css"><link rel="stylesheet" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/layouts/default.846c2b6.css"><link rel="stylesheet" href="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/18.fe9b27a.css">
  </head>
  <body >
    <script data-n-head="ssr" type="text/javascript" data-pbody="true">(function () {
    const pages = [
        /^\/$/,
        /^\/following$/,
        /^\/recommended$/,
        '^/pins.*',
        '^/pin.*',
        /^\/course(?!\/payment\/)/,
        /^\/post\/.*/,
        '^/hot.*',
        /^\/book\/\d+/,
        /^\/video\/\d+/,
        /^\/user\/settings.*/,
        /^\/spost\/\d+/,
        /^\/notification(?!\/im)/,
        '^/backend',
        '^/frontend',
        '^/android',
        '^/ios',
        '^/ai',
        '^/freebie',
        '^/career',
        '^/article',
    ];
    function isInJuejinApp() {
        const userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : '';
        return /juejin/i.test(userAgent);
    }
    if (typeof window !== 'undefined' && !isInJuejinApp()) {
        try {
            const path = window.location.pathname;
            const isAvailable = pages.some((page) => {
                const reg = new RegExp(page);
                return reg.test(path);
            });
            if (isAvailable) {
                const localValue = localStorage.getItem('juejin_2608_theme') || '{}';
                let { theme = 'light', isFollowSystem = false } = JSON.parse(localValue);
                if (isFollowSystem) {
                    const themeMedia = window.matchMedia('(prefers-color-scheme: light)');
                    theme = themeMedia.matches ? 'light' : 'dark';
                    localStorage.setItem('juejin_2608_theme', JSON.stringify({ theme, isFollowSystem }));
                }
                document.body.setAttribute('data-theme', theme);
            }
            else {
                document.body.setAttribute('data-theme', 'light');
            }
        }
        catch (e) {
            console.error('浏览器不支持localStorage');
        }
    }
})()</script><div data-server-rendered="true" id="__nuxt"><div id="__layout"><div id="juejin"><div class="view-container" data-v-5762947c data-v-2c6459d4><div class="main-header-box" data-v-5762947c><header data-fetch-key="0" class="main-header main-header unauthorized visible" data-v-925171a8 data-v-5762947c><div class="container" data-v-925171a8><a href="/" class="logo" data-v-925171a8><img src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg" alt="稀土掘金" class="logo-img" data-v-925171a8> <img src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/6c61ae65d1c41ae8221a670fa32d05aa.svg" alt="稀土掘金" class="mobile" data-v-925171a8></a> <!----> <nav role="navigation" class="main-nav" data-v-925171a8><ul class="nav-list" data-v-925171a8><!----> <li class="main-nav-list" data-v-925171a8><div class="phone-show-menu" data-v-925171a8><span data-v-925171a8>首页</span> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="unfold16-icon" data-v-925171a8 data-v-925171a8><path d="M2.45025 4.82431C2.17422 4.49957 2.40501 4.00049 2.83122 4.00049H9.16878C9.59498 4.00049 9.82578 4.49957 9.54975 4.82431L6.38097 8.55229C6.1813 8.78719 5.8187 8.78719 5.61903 8.55229L2.45025 4.82431Z" data-v-925171a8 data-v-925171a8></path></svg></div> <ul class="phone-hide" data-v-925171a8><li class="nav-item link-item" data-v-925171a8><a href="/" data-v-925171a8>首页</a></li> <li class="nav-item link-item activities" data-v-925171a8><a href="/pins" data-v-925171a8>
                沸点
                <span class="text" data-v-925171a8><!----></span></a></li> <li class="nav-item link-item book" data-v-925171a8><a href="/course" data-v-925171a8>
                课程
                <!----></a></li> <li class="nav-item link-item" data-v-925171a8><a href="/live" data-v-925171a8>
                直播
              </a></li> <li class="nav-item link-item" data-v-925171a8><a href="/events/all" data-v-925171a8>活动</a></li> <li class="nav-item link-item" data-v-925171a8><a href="/challenge" data-v-925171a8>
                竞赛
                <!----></a></li> <nav class="nav-item link-item" data-v-925171a8><a href="https://detail.youzan.com/show/goods/newest?kdt_id=104340304" target="_blank" rel="nofollow noopener noreferrer" class="jj-link nav-item link-item no-border" data-v-65b50b51 data-v-925171a8><span data-v-65b50b51 data-v-925171a8>商城</span></a> <!----></nav> <nav class="nav-item link-item download-icon" data-v-925171a8><a href="/app?utm_source=jj_nav" target="_blank" class="download-app no-border" data-v-925171a8>
                APP
              </a></nav> <nav class="nav-item link-item extension-icon" data-v-925171a8><a href="https://juejin.cn/extension?utm_source=jj_nav" target="_blank" rel="nofollow noopener noreferrer" class="jj-link broswer-extension no-border" data-v-65b50b51 data-v-925171a8><span data-v-65b50b51 data-v-925171a8>插件</span></a></nav> <!----></ul></li> <ul class="right-side-nav" data-v-925171a8><li class="search-add" data-v-925171a8><ul class="search-add-ul" data-v-925171a8><li class="nav-item search" data-v-925171a8><form role="search" class="search-form" data-v-925171a8><input type="search" maxlength="64" placeholder="" value="" class="search-input" data-v-925171a8> <div class="seach-icon-container" data-v-925171a8><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="search-icon" data-v-925171a8 data-v-925171a8><path d="M12.4008 12.4008C14.744 10.0577 14.744 6.25871 12.4008 3.91556C10.0577 1.57242 6.25871 1.57242 3.91556 3.91556C1.57242 6.25871 1.57242 10.0577 3.91556 12.4008C6.25871 14.744 10.0577 14.744 12.4008 12.4008ZM12.4008 12.4008L15.5828 15.5828" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-925171a8 data-v-925171a8></path></svg></div> <!----> <div class="typehead" style="display:none;" data-v-925171a8><!----> <div class="title" data-v-925171a8><span data-v-925171a8>搜索历史</span> <span class="clear" data-v-925171a8>
                        清空
                      </span></div> <div class="list" data-v-925171a8></div></div></form></li> <li class="nav-item add creator-item" data-v-925171a8><div class="add-group" data-v-17cc1c49 data-v-925171a8><!----> <button class="add-btn" data-v-17cc1c49>
    创作者中心
  </button> <div class="more" data-v-17cc1c49><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="unfold12-icon" data-v-17cc1c49 data-v-17cc1c49><path d="M2.45025 4.82383C2.17422 4.49908 2.40501 4 2.83122 4H9.16878C9.59499 4 9.82578 4.49908 9.54975 4.82382L6.38097 8.5518C6.1813 8.7867 5.8187 8.7867 5.61903 8.5518L2.45025 4.82383Z" fill="white" data-v-17cc1c49 data-v-17cc1c49></path></svg> <div class="more-mask" data-v-17cc1c49></div> <div class="more-list" data-v-17cc1c49><ul class="menu" data-v-17cc1c49><li class="item" data-v-17cc1c49><div class="icon write-article" data-v-17cc1c49></div> <div class="title" data-v-17cc1c49>写文章</div></li><li class="item" data-v-17cc1c49><div class="icon issue-points" data-v-17cc1c49></div> <div class="title" data-v-17cc1c49>发沸点</div></li><li class="item" data-v-17cc1c49><div class="icon write-note" data-v-17cc1c49></div> <div class="title" data-v-17cc1c49>写笔记</div></li><li class="item" data-v-17cc1c49><div class="icon create-jcode" data-v-17cc1c49></div> <div class="title" data-v-17cc1c49>写代码</div></li><li class="item" data-v-17cc1c49><div class="icon drafts" data-v-17cc1c49></div> <div class="title" data-v-17cc1c49>草稿箱</div></li></ul> <div class="divider" data-v-17cc1c49></div> <div class="inspiration" data-v-17cc1c49><div class="info" data-v-17cc1c49><span class="title" data-v-17cc1c49>创作灵感</span> <span class="more-info" data-v-17cc1c49>
            查看更多
            <i class="icon byte-icon byte-icon--right" data-v-17cc1c49><svg t="1561636167146" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="404349" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M630.4 512L283.52 165.12a21.12 21.12 0 0 1 0-30.08l30.08-30.08a21.12 21.12 0 0 1 30.08 0l377.6 376.96a42.24 42.24 0 0 1 0 60.16l-377.6 376.96a21.12 21.12 0 0 1-30.08 0l-30.08-30.08a21.12 21.12 0 0 1 0-30.08z" p-id="404350"></path></svg></i></span></div> <div class="list" data-v-17cc1c49>  <div class="item" data-v-090682e2 data-v-17cc1c49><div class="xitu-skeleton xitu-skeleton-animated" data-v-090682e2><div class="xitu-skeleton-item" data-v-090682e2><!----> <div class="xitu-skeleton-content" data-v-090682e2><div class="xitu-skeleton-line" data-v-090682e2></div><div class="xitu-skeleton-line" data-v-090682e2></div><div class="xitu-skeleton-line" data-v-090682e2></div></div></div></div></div></div></div></div></div> <!----></div></li></ul></li> <li class="nav-item vip-entry" data-v-925171a8><div class="vip-title" data-v-925171a8><div class="vip-entry-img" data-v-925171a8><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ffd3e238ee7f46eab42bf88af17f5528~tplv-k3u1fbpfcp-image.image#?w=25&h=26&s=5968&e=svg&a=1&b=dacbbc" alt="vip" class="vip-img" data-v-925171a8> <!----></div> <div class="vip-words" data-v-925171a8>会员</div></div></li> <!----> <!----> <!----> <li class="nav-item auth hidden" data-v-925171a8><div class="login-button-wrap" data-v-925171a8><button class="login-button" data-v-925171a8>
                登录
                <div class="login-button-inner" data-v-925171a8><div class="login-button-line" data-v-925171a8></div>
                  注册
                </div></button> <!----></div></li></ul></ul></nav></div></header></div>  <main class="container main-container" style="max-width:1140px;" data-v-5762947c><div class="view column-view" data-v-5762947c data-v-2c6459d4><!----> <div class="main-area article-area" data-v-5762947c data-v-2c6459d4><article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="6965744691979485197" data-draft-id="6953809355720359967" data-original-type="0" class="article" data-v-2c6459d4><!----> <meta itemprop="headline" content="web性能优化（Lighthouse和performance）：从实际项目入手，如何监测性能问题、如何解决。"> <meta itemprop="keywords" content="性能优化,前端,面试"> <meta itemprop="datePublished" content="2021-05-24T06:47:34.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="蓝蓝酱"> <meta itemprop="url" content="https://juejin.cn/user/2488950055245405"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-2c6459d4>
            web性能优化（Lighthouse和performance）：从实际项目入手，如何监测性能问题、如何解决。
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-2c6459d4><div class="author-info-box" data-v-2c6459d4><div class="author-name" data-v-2c6459d4><a href="/user/2488950055245405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51 data-v-1800aadb data-v-2c6459d4><span class="name" style="max-width:160px;" data-v-65b50b51 data-v-1800aadb>
    蓝蓝酱
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-2c6459d4><time datetime="2021-05-24T06:47:34.000Z" title="Mon May 24 2021 06:47:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-2c6459d4>
                    2021-05-24
                  </time> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-2c6459d4><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-2c6459d4></path><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-2c6459d4></circle></svg> <span class="views-count" data-v-2c6459d4>
                    19,594
                  </span> <!----> <!----></div></div> <div style="flex:1;" data-v-2c6459d4></div> <!----> <!----></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="article-viewer markdown-body cache result" data-v-2c6459d4><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre>code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote>p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight data-highlight-key="juejin">.markdown-body pre,.markdown-body pre>code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>这篇文章总结一下我过往项目的web性能优化，主要是就项目中如何发现性能问题，优化如何解决，谈一下性能优化。把学习的过程跟大家分享一下，共同学习。web的性能监测工具我用的是Chrome的Performance 面板和Lighthouse。</p>
<p>回想起以前工作被产品拉进小黑屋，要我优化目前项目组的3个项目的性能问题。说体验起来比较卡。我带着激动地心，颤抖的手打开项目跑一下分数，普遍15-60分。因为我们项目是数据可视化的项目。追求的是什么？酷炫吊炸天！！！！各种3D的地图，酷炫的动画，复杂的交互。优化……好吧，打工人打工魂。哦豁，优化好像依然没有达到预期的效果，经过不懈的努力还是能有质的提升。因为公司项目是内网的（公司安全防范超过严格，啥也看不了），我是半行代码也拷不出来，也不敢贴出来呀，我尽量把问题制造在demo里，也方便观察和解决。</p>
<p>拓展插件，没有安装的安装看一下。如果有错误的地方希望大家提出来，以便我能及时修改~</p>
<h3 data-id="heading-0">一、 Lighthouse</h3>
<blockquote>
<p>Lighthouse生成的是一个报告，会给你的页面跑出一个分数来。 分别是页面性能（performance）、Progressive（渐进式 Web 应用）、Accessibility（可访问性）、Best  Practices（最佳实践）、SEO 五项指标的跑分。甚至针对我们的性能问题给出了可行的建议、以及每一项优化操作预期会帮我们节省的时间。这份报告的可操作性是很强的——我们只需要对着 LightHouse 给出的建议，一条一条地去尝试，就可以看到自己的页面，在一秒一秒地变快。</p>
</blockquote>
<p>打开项目跑一下分数，看看都有什么问题（分数每次测会有偏差，而且跟网速也有关系，所以不用太在意分数，关心一下Lighthouse给我们的建议）还有个人觉得在生产环境测会比本地靠谱</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e837cafdd9114d6db437d255e03479de~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG89.jpeg" loading="lazy"></p>
<h4 data-id="heading-1">那让我们为了写个dome look look ，把问题制造出来。为了快速，我写的dome是用vuecli 4.0所以很多webpack配置是内置的，但我实际工作用的是react，无论脚手架怎么变，原理不会变。</h4>
<h5 data-id="heading-2">1. Use HTPP/2</h5>
<p>嗯，这个这个，HTTP/2的优点我就不多说了，大家可以去了解一下。15年发表到现在已经很成熟了，可以使用起来~</p>
<h5 data-id="heading-3">2. Remove unused CSS 或者 Remove unused JavaScript（移除无用的js和css）</h5>
<blockquote>
<p>考虑一下按需引入和CDN(这个在实际项目中会比较复杂，因为代码比较多。分析问题比较难)</p>
</blockquote>
<blockquote>
<p>我随便加了几个第三方库，写了几个页面。首先看看大小，明明打包出来压缩的是493k的怎么加载时1643k呢
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c146fcf48814446ca4c3703827502bb4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG95.jpeg" loading="lazy"></p>
</blockquote>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38c1e9cb228940c7bcecdb5e00cd67ba~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG94.jpeg" loading="lazy"></p>
<p>去看看nginx配置，哦豁，示范的时候，我把开启Gzip注释了，放开放开，之后看看正常了。</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b21b848340094df09e08491035e85c6b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG93.png" loading="lazy"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/08376e800fe8442893e561a416a5025d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG92.jpeg" loading="lazy"><br>
目测打包出来1M多的chunk.js也是有点大，webpack普遍优化：切割一下打包文件，不要全部打包到一起。全局引入了echarts和element我们把这两个js分开打包, 使用optimization.splitChunks</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cde3418ca69148959acf4a18e81df65d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG99.jpeg" loading="lazy">
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d50f5151609b4c798443b101002c628d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG98.jpeg" loading="lazy"></p>
<p>结果</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/997ad7e398e1451cbefcad4e053c0f48~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG99.jpeg" loading="lazy"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bd99e6f6fb2462daee7b00ebf8204d8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG100.jpeg" loading="lazy"></p>
<p>我把压缩释放看看，点开Coverage面板，刷新看看。可以看到那些是关键资源（红色非关键，蓝色关键资源）。</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc660a736e5a4b158130dbb118b653da~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG75.png" loading="lazy"></p>
<p>点击查看详细加载情况，红色的就是没有使用的代码，但是打包压缩后的代码，我们一般都看不出来是人还是鬼。所以我们尽量对代码进行切割，不仅可以减少大文件加载的时间，也可以明确问题所在。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3b5a1a8b6c748da8b0eef2a0fc1034e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WX20210518-000301@2x.png" loading="lazy"></p>
<p>我们可以处理一下第三方的js，能看到echarts和elemenet-ui加载的大小和实际使用的大小有出入，一般Lighthouse用超过20 kb的未使用代码标记每个JavaScript文件。我们改变一下element-ui的引入方式，目前是全局引入，我们可以使用按需引入，因为目前我只用到了Button，我们就只需要引入Button。优化后打包大小明显变小。</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed031c832dfa47d79c9a0cd51871a8f2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG103.png" loading="lazy"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ba68c344ab84bc895990f02bf4e66bd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG101.png" loading="lazy"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53886714347f4a979c1ebc50baf0548e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy">
如果项目使用的组件比较多，按需引入不方便，必须全局引入。这时候考虑一下，因为第三方的库我们不会经常去更新的，可以使用cdn的方式引入，就减免打包的大小。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f07126906934eb5861688cd8a5d56a5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc923e87dd5940f5ae9cbd0059131b25~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p>配置（我vue也不怎么用，大家参照参考官网配置就好，注意的是vue必须要先加载了，不然element-ui会报错。如果开发环境使用**min.js可能无法调试）
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1365f976db4f41df96bc4a0da227f2da~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG83.png" loading="lazy">
使用（不再需要import，其他正常使用就好）</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3dacf76c55d94a8c919a82e61b63dc49~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG82.png" loading="lazy"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f04d122b221437ca00501990696de15~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG104.jpeg" loading="lazy"></p>
<h5 data-id="heading-4">3.Serve static assets with an efficient cache policy（为静态资源提供缓存）</h5>
<p>对于不常改变的静态资源比如说css、image等可以进行缓存，针对缓存也总结了一下，可以看看</p>
<p>打开ngnix配置文件，把缓存配上（这里粗暴把js和css缓存了，实际项目根据实际需要配置缓存）
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1d2d1f970ea45cebda08e134ae0440e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="uuuu.png" loading="lazy"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f47fad4c64548b298901eabb1a9dbee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image" loading="lazy"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a691cf976ed435bb7a786397fa9c90f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image" loading="lazy"></p>
<h5 data-id="heading-5">4.<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fmainthread-work-breakdown%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools" target="_blank" title="https://web.dev/mainthread-work-breakdown/?utm_source=lighthouse&#x26;utm_medium=devtools" ref="nofollow noopener noreferrer">Minimize main-thread work</a>  最小化主线程工作</h5>
<p>浏览器的渲染器过程将您的代码转换为用户可以与之交互的网页。默认情况下，渲染器进程的主线程通常处理大多数代码：它解析HTML并构建DOM，解析CSS并应用指定的样式，并解析，评估并执行JavaScript。主线程还处理用户事件。因此，每当主线程忙于执行其他操作时，您的网页就可能无法响应用户交互，从而导致不良的体验。</p>
<p>看看dome的例子，主要渲染时间在Style&#x26;&#x26;Layout，说明我们的重排重绘时间占了主要时间，那我们就想办法减少重排，这部分在performance面板看比较直观，下面performance会讲到这个例子的处理，这里跳过。
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/928011081346400c82f7fff14f2fd46b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p>Google对我们的建议是：</p>
<blockquote>
<p>这个会比较笼统，只能根据项目一点一点改变， 样式、布局和渲染下面performance会介绍到</p>
</blockquote>
<ol>
<li>脚本评估
<ul>
<li>优化第三方JavaScript</li>
<li>消除您的输入处理程序</li>
<li>使用网络工作者</li>
</ul>
</li>
<li>样式和布局
<ul>
<li>减少样式计算的范围和复杂性</li>
<li>避免大型，复杂的布局和布局颠簸</li>
</ul>
</li>
<li>渲染
<ul>
<li>坚持只使用合成器属性并管理层数</li>
<li>简化paint复杂性并减少paint面积</li>
</ul>
</li>
<li>解析HTML和CSS
<ul>
<li>提取关键CSS</li>
<li>缩小CSS</li>
<li>推迟非关键CSS</li>
</ul>
</li>
<li>脚本解析和编译
<ul>
<li>通过代码拆分减少JavaScript负载</li>
<li>删除未使用的代码</li>
</ul>
</li>
</ol>
<h6 data-id="heading-6">如何分析非关键代码</h6>
<p>上面有提过 Coverage Tool</p>
<p>图片可以看出这个页面其实根本就不使用到element-ui css， 我们可以设置延迟加载非关键CSS
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bd95bcdf4c0440eba992e423246fe3d0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p>webpack设置 html-critical-webpack-plugin</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/684e77b727e84fb7a82485bce315d4d4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy">
效果
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb9bb86371b049848d16635603a05a55~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p>原理</p>
<ul>
<li>link rel="preload" as="style"异步请求样式表。您可以preload在<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fpreload-critical-assets%2F" target="_blank" title="https://web.dev/preload-critical-assets/" ref="nofollow noopener noreferrer">《预载关键资产》指南</a>中了解更多信息。</li>
<li>onload属性link允许CSS在加载完成后进行处理，在这里执行null转化，可以避免在切换rel属性时重复处理</li>
<li>noscript元素对不支持javascript的浏览器做兼容。</li>
</ul>
<h5 data-id="heading-7">5.<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Ffont-display%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools" target="_blank" title="https://web.dev/font-display/?utm_source=lighthouse&#x26;utm_medium=devtools" ref="nofollow noopener noreferrer">Ensure text remains visible during webfont load</a>确保文本在Webfont加载期间保持可见</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad746a44b08048bb9512e4b43cb7e9ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG78.png" loading="lazy"></p>
<blockquote>
<ul>
<li>FOIT是浏览器在加载字体的时候的默认表现形式，也就是在字体加载过程中，页面是看不到文本内容的。在现代浏览器中，FOIT会导致这种现象出现至多3秒。FOIT会导致很差的用户体验，这是我们需要尽量去避免的.</li>
<li>FOUT意思是在字体加载过程中使用默认的系统字体，字体加载完后显示加载的字体，如果超过了FOIT(3s)字体还没加载，则继续使用默认的系统字体。</li>
<li>swap告诉浏览器使用字体的文本应立即使用系统字体显示。自定义字体准备好后，它将替换系统字体。可以避免在大多数现代浏览器中使用FOIT(并非所有主流浏览器都支持font-display: swap)</li>
</ul>
</blockquote>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4cc9515e10d434cb18586c896486fb2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG79.png" loading="lazy"></p>
<h5 data-id="heading-8">7. <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fbootup-time%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools" target="_blank" title="https://web.dev/bootup-time/?utm_source=lighthouse&#x26;utm_medium=devtools" ref="nofollow noopener noreferrer">Reduce JavaScript execution time</a> 减少js的执行时间</h5>
<p>当JavaScript执行时间超过2秒时，Lighthouse将显示警告。执行时间超过3.5秒时，审核将失败</p>
<p>建议（这些webpack都有相关的配置）：</p>
<ul>
<li>拆分代码。</li>
<li>缩小并压缩代码</li>
<li>删除未使用的代码 (tree shaking)</li>
<li>使用缓存代码（上面有讲）</li>
</ul>
<h5 data-id="heading-9">8. <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Ftotal-byte-weight%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools" target="_blank" title="https://web.dev/total-byte-weight/?utm_source=lighthouse&#x26;utm_medium=devtools" ref="nofollow noopener noreferrer">Avoid enormous network payloads</a> 避免大量的网络负载</h5>
<p>这个涉及因素比较多，考虑从多方面入手，参考下面方法：</p>
<p>减少网络负载方法</p>
<ul>
<li>将请求推迟到需要时再发送。有关的方法，请参阅PRPL模式。</li>
<li>最小化和压缩网络负载。</li>
<li>对图像使用WebP而不是JPEG或PNG（图片要求不严格，可以压缩体积，我常用的在线压缩网站<a href="https://link.juejin.cn?target=https%3A%2F%2Ftinypng.com%2F%25EF%25BC%2589%25E3%2580%2582" target="_blank" title="https://tinypng.com/%EF%BC%89%E3%80%82" ref="nofollow noopener noreferrer">tinypng.com/）。</a></li>
<li>将JPEG图像的压缩级别设置为85。</li>
<li>缓存请求，以使页面在重复访问时不会重新下载资源。（请参阅“网络可靠性”登录页面，以了解缓存的工作原理以及实现方法。）</li>
</ul>
<p>PRPL</p>
<ul>
<li>Push（推送或预加载）最重要的资源。</li>
<li>Render：尽快渲染初始路线。</li>
<li>Pre-cache 预缓存剩余资源。</li>
<li>Lazy load  延迟加载其他路由和非关键资源。</li>
</ul>
<p>比如：vuecli3.x or 4.x默认打包之后，部署到服务器上的项目，会对静态资源的标签上默认加载preload或者prefetch属性（preload主要用于预加载当前页面需要的资源；而prefetch主要用于加载将来页面可能需要的资源）</p>
<p>预加载&#x26;&#x26;延迟加载</p>
<ul>
<li>
<p>preload  ：是一种声明式的资源获取请求方式，用于提前加载一些需要的依赖，并且不会影响页面的onload事件。通过在HTML文档的开头添加标记rel="preload"来预加载关键资源，浏览器为资源设置了更合适的优先级，如果as属性被省略，那么该请求将会当做异步请求处理：<br>
<code>&#x3C;link rel="preload" as="style" href="css/style.css"></code></p>
</li>
<li>
<p>prefetch ：是一种利用浏览器的空闲时间加载页面将来可能用到的资源的一种机制；通常可以用于加载非首页的其他页面所需要的资源，以便加快后续页面的首屏速度；</p>
</li>
<li>
<p>延迟加载 ：是一种根据需要而不是预先加载资源的策略。这种方法在初始页面加载期间释放了资源，并避免了加载从未使用过的资产。</p>
<blockquote>
<p>如果您在网页上加载许多图像，请在加载页面时推迟所有折叠以下或设备视口之外的图像（请参阅使用<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fuse-lazysizes-to-lazyload-images%2F" target="_blank" title="https://web.dev/use-lazysizes-to-lazyload-images/" ref="nofollow noopener noreferrer">lazysizes</a>延迟加载图像）。</p>
</blockquote>
</li>
</ul>
<h5 data-id="heading-10">9. <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Frender-blocking-resources%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools" target="_blank" title="https://web.dev/render-blocking-resources/?utm_source=lighthouse&#x26;utm_medium=devtools" ref="nofollow noopener noreferrer">Eliminate render-blocking resources</a>消除渲染阻止资源</h5>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9336fd67e0cc4c5593c64b690eaa78c4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p>在浏览器可以呈现任何内容之前，它需要将HTML标记解析为DOM树。如果遇到任何外部样式表（<code>&#x3C;link rel="stylesheet" /></code>）或同步JavaScript标记（<code>&#x3C;script src="main.js">&#x3C;/script></code>），HTML解析器将暂停。
脚本和样式表都是渲染阻塞资源，这些资源会延迟FCP，从而延迟LCP。推迟使用任何非关键的JavaScript和CSS来加快网页主要内容的加载。
减少CSS阻断时间:</p>
<ul>
<li>缩小CSS: 对于Webpack：optimize-css-assets-webpack-plugin</li>
<li>推迟非关键CSS</li>
<li>内联关键CSS</li>
</ul>
<h5 data-id="heading-11">11.<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fcodelab-use-lazysizes-to-lazyload-images%2F" target="_blank" title="https://web.dev/codelab-use-lazysizes-to-lazyload-images/" ref="nofollow noopener noreferrer">Defer offscreen images</a> 延迟加载具有lazysizes的屏幕外图像</h5>
<p>延迟加载图片应该经常会用到，就不示范了 vue-lazyload / lazysizes.min.js</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd933fb555c74364b4a85e91cb7f8d29~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG80.png" loading="lazy"></p>
<h5 data-id="heading-12">13. <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Foptimize-cls%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools%23images-without-dimensions" target="_blank" title="https://web.dev/optimize-cls/?utm_source=lighthouse&#x26;utm_medium=devtools#images-without-dimensions" ref="nofollow noopener noreferrer">Image elements do not have explicit width and height</a> 图片设置宽高</h5>
<p>这个很好理解就不写案例了————</p>
<blockquote>
<p>始终在图像和视频元素上包括width和设置height尺寸属性。<img src="" loading="lazy">以确保在浏览器开始获取图像之前在页面上分配了足够的空间。这将最大程度地减少回流和重新布局。</p>
</blockquote>
<p><code>&#x3C;img src="puppy.jpg" width="640" height="360" alt="Puppy with balloons" /></code></p>
<p>或者设置height：auto 自适应保真比例也可以</p>
<h6 data-id="heading-13">CLS较差的最常见原因是：</h6>
<ul>
<li>图片无尺寸</li>
<li>没有尺寸的广告，嵌入和iframe</li>
<li>动态注入的内容</li>
<li>Web字体导致FOIT / FOUT</li>
<li>在更新DOM之前等待网络响应的操作</li>
</ul>
<h3 data-id="heading-14">二、 Performance（当页面卡顿、慢时可以使用Performance来分析问题）</h3>
<blockquote>
<p>lighthouse生成一个报告有些参数来源于performance，相对比lighthouse的分数和建议，performance用于记录和分析我们的应用在运行时的所有活动。它呈现的数据具有实时性、多维度的特点，可以帮助我们很好地定位性能问题。</p>
</blockquote>
<p>比如下图，我们看到style/Layout耗时非常夸张，但是我定位不到准确的地方，这个时候我们用performance面板看看
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23e4ab3002b844249a36dadff67ba4eb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy">
Performance整体分析</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/60a3c21d41b44015808a7038608634c7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG57.png" loading="lazy"></p>
<h5 data-id="heading-15">想了解Performance呈现的结果，需要知道浏览器的渲染知识，这里大概罗列一下（懂的可以跳过，直接看后面案例分析）。</h5>
<h5 data-id="heading-16">1. Performance指标值</h5>

































































<table><thead><tr><th>名词</th><th>解析</th><th>详细</th></tr></thead><tbody><tr><td>FP (First Paint)</td><td>首次绘制</td><td>标记浏览器渲染任何在视觉上不同于导航前屏幕内容之内容的时间点</td></tr><tr><td>FCP (First Contentful Paint)</td><td>首次内容绘制</td><td>标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、非空白canvas或SVG 甚至 元素.</td></tr><tr><td>LCP (Largest Contentful Paint)</td><td>最大内容渲染</td><td>代表在viewport中最大的页面元素加载的时间. LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象.</td></tr><tr><td>DCL (Dom Content loaded)</td><td></td><td>当 HTML文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，无需等待样式表、图像和子框架的完成加载</td></tr><tr><td>FMP(First Meaningful Paint)</td><td>首次有效绘制</td><td></td></tr><tr><td>L (onLoad)</td><td>加载完成</td><td>当依赖的资源, 全部加载完毕之后才会触发.</td></tr><tr><td>TTI (Time to Interactive)</td><td>可交互时间</td><td>指标用于标记应用已进行视觉渲染并能可靠响应用户输入的时间点.</td></tr><tr><td>TBT (Total Blocking Time)</td><td>页面阻塞总时长</td><td>TBT汇总所有加载过程中阻塞用户操作的时长，在FCP和TTI之间任何long task中阻塞部分都会被汇总</td></tr><tr><td>FID (First Input Delay)</td><td>首次输入延迟</td><td>指标衡量的是从用户首次与您的网站进行交互（即当他们单击链接，点击按钮等）到浏览器实际能够访问之间的时间</td></tr><tr><td>CLS (Cumulative Layout Shift)</td><td>累积布局偏</td><td>总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去。具体的计算方法可看这篇文章 <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fcls%2F" target="_blank" title="https://web.dev/cls/" ref="nofollow noopener noreferrer">《Cumulative Layout Shift (CLS)》 </a></td></tr><tr><td>SI (Speed Index)</td><td></td><td>指标用于显示页面可见部分的显示速度, 单位是时间</td></tr></tbody></table>
<h4 data-id="heading-17">2. RAIL 性能模型</h4>






























<table><thead><tr><th>名词</th><th>解析</th><th>详细</th></tr></thead><tbody><tr><td>response</td><td>响应</td><td>用户输入之后是否能在100ms之内响应<br>这里的输入包括点击按钮、切换表单控件等，但不包括触摸滑动或滚动（50ms内完成较好）</td></tr><tr><td>animation</td><td>动画</td><td>最近手机圈很流行将屏幕刷新率提升为90hz，这里hz就是帧率，90hz就是每秒有90帧，一帧就是一个画面。每秒看到的画面越多，我们就会感到越流畅，（每10ms内产生一帧较好）</td></tr><tr><td>idle</td><td>浏览器空置状态</td><td>利用空闲的时间完成一些推迟的工作。推迟的工作应分为50ms的多个块进行。（尽可能增加空闲时间）</td></tr><tr><td>load</td><td>加载</td><td>5s加载完成并且可以交互</td></tr></tbody></table>
<h4 data-id="heading-18">3.Performancem面板参数</h4>
<p>【第3以下配置都是用来模拟手机、慢网络下使用的】</p>













































<table><thead><tr><th>名词</th><th>解析</th></tr></thead><tbody><tr><td>no recordings</td><td>就是每一次的检测报告，可以根据每一次的检测报告，去进行性能优化的对比</td></tr><tr><td>Screenshots</td><td>是用来查看在每个时间段界面的变化</td></tr><tr><td>Memory</td><td>存储调用栈的大小，在不同时间段的不同大小；</td></tr><tr><td>Disable Javascript samples</td><td>禁用 javascript 调用栈,关闭javaScript样本减少在手机运行时的开销，模拟手机运行时勾选</td></tr><tr><td>Enable advanced paint instrumentation (slow)</td><td>记录渲染事件的细节,选择frames中的一块，可以看到区域四多了个Layers</td></tr><tr><td>Network</td><td>网络模拟,可以模拟在3G,4G等网络条件下运行页面；</td></tr><tr><td>CPU</td><td>用来查看电脑的性能问题,主要为了模拟底CPU下运行性能</td></tr><tr><td>HEAP</td><td>JavaScrip 执行的时间分布。</td></tr><tr><td>区域2：网页性能总览图（overview）</td><td></td></tr></tbody></table>





















































<table><thead><tr><th>名词</th><th>解析</th></tr></thead><tbody><tr><td>FPS</td><td>每秒帧数，是用来分析动画的一个主要性能指标，对于动画而言标准是保持在60FPS。绿色越高越好，出现红色则表示FPS低（这就是你为啥觉得页面卡顿了），你可以在区域三Frames中看到具体的FPS值（见下面第二图）</td></tr><tr><td>CPU</td><td>处理各个任务花费的时间，选择一段CPU统计可以在区域四的Summary看到统计表格<br> Scripting 脚本<br>Rendering 渲染<br>Painting 绘制<br>Loading 加载<br>ldle 闲置</td></tr><tr><td>NET</td><td>每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间）。</td></tr><tr><td>区域3：线程面板</td><td></td></tr><tr><td>名词</td><td>解析</td></tr><tr><td>Frames</td><td>帧线程，鼠标悬浮绿色块可以看到fps</td></tr><tr><td>Main</td><td>主线程，负责执行Javascript, 解析HTML/CSS, 完成绘制。<br>可以看到主线程调用栈和耗时情况，每个长条都是一个事件，悬浮可以看到耗时和事件名<br>x轴指时间： 最上面的第一条就是事件触发的地方，直到结束，这条线是最长的<br>y轴指调用栈：上面的event调用了下面的子event，越到下面数量越少（瀑布）</td></tr><tr><td>Raster</td><td>Raster线程，负责完成某个layer或者某些块(tile)的绘制。光栅化线程池，用来让 GPU执行光栅化的任务</td></tr><tr><td>Interactions</td><td>用来记录用户交互操作，比如点击鼠标、输入文字、动画等</td></tr><tr><td>Timings</td><td>用来记录一些关键的时间节点在何时产生的数据信息，诸如 FP、FCP、LCP 等</td></tr><tr><td>Compositor</td><td>合成线程的执行记录，用来记录html绘制阶段 (Paint)结束后的图层合成操作</td></tr></tbody></table>
<p>区域4：统计面板</p>

























<table><thead><tr><th>名词</th><th>解析</th></tr></thead><tbody><tr><td>Summary</td><td>统计图：展示各个事件阶段耗费的时间</td></tr><tr><td>Bottom-Up</td><td>排序：可以看到各个事件消耗时间排序<br>(1)self-time 指除去子事件这个事件本身消耗的时间<br>(2)total-time 这个事件从开始到结束消耗的时间（包含子事件）</td></tr><tr><td>Call Tree</td><td>调用栈：Main选择一个事件，表示事件调用顺序列表（从最顶层到最底层，而不是只有当前事件）</td></tr><tr><td>Event Log</td><td>事件日志<br>(1) 多了个start time，指事件在多少毫秒开始触发的<br>(2) 右边有事件描述信息</td></tr></tbody></table>
<h5 data-id="heading-19">下面举两个例子来了解一下，怎么找出性能问题，并且解决</h5>
<p>1、下面这张图，动画看起来是有点卡顿的问题的，利用performance测试一下，可以看到Main面板里面展开看到很多Task右上角都有红色的三角形，说明是个Long Task，注意Animation Frame Fired事件右上角的红色三角形图标，该红色三角图标是这个事件有问题的警告。
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8acc8a8f72f64f8e831f45dd015193a1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="bbb.gif" loading="lazy"></p>
<p>选中其中一个Animation Frame Fired 查看详细信息，可以看到有问题的代码在第几行，点击代码会跳到指定代码
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd7988dc588b4636bdc95017e69f4f4a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG60.png" loading="lazy"></p>
<p>再放大可以看到Animation Frame Fired有很多紫色的Layout模块，右上角也有红色三角形。点击选中Forced reflow查看信息，看到造成卡顿的原因是很多元素进行不断的回流和重绘。</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e54561391e8405cbc67a701926ee013~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG61.png" loading="lazy"></p>
<p>看一下代码，有1000个元素在不断通过他的offsetTop改变宽（如果你电脑性能比较好，可以改成5000个，卡顿效果更佳明显）。当你要用到像这样的属性：offsetTop、offsetLeft、 offsetWidth、offsetHeight、scrollTop、scrollLeft、scrollWidth、scrollHeight、clientTop、clientLeft、clientWidth、clientHeight 时，需要通过即时计算得到，所以也进行回流（重排）。我们无法避免读取属性，但是不用每一个元素读取完offsetTop再马上赋值，我们可以先批量读取完属性后再赋值.可以利用开源的<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ffastdom" target="_blank" title="https://www.npmjs.com/package/fastdom" ref="nofollow noopener noreferrer">fastdom</a>来解决这个问题（可以去看看它的源码，没有多少行）</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e55868bb4d2e486da34a77bec221c680~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy"></p>
<p>2.使用fastdom优化的代码（读写分离）</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f94a934214049858bb8ed865276b941~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG63.png" loading="lazy"></p>
<p>3.优化前后效果对比</p>
<p>优化前
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8acc8a8f72f64f8e831f45dd015193a1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="bbb.gif" loading="lazy">
优化后
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e0936cd5b49490c95f51544bddc5a87~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="aaa.gif" loading="lazy"></p>
<h5 data-id="heading-20">再举个简单，无伤大雅的例子</h5>
<p>下面是需要拖拽线条位置改变方格大小（当然了，只写了线条拖拽功能），再performance上看到有很多layout Shift（布局偏移）</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdf4ad51f5c54d2ebafea472966dbb49~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="ccc.gif" loading="lazy"></p>
<p>放大Mian
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ecf35cbfdaad42aead7f5f23e998ba5f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG65.png" loading="lazy"></p>
<p>看代码，利用定位改变left的位置进行移动的，这样会造成重排。我们可以利用transform代替，减少重排。
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/054db1b57469459c94dc222580654bfb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG66.png" loading="lazy"></p>
<p>优化后
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e4ac0eceb974ad3847b5174aeaee9c3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy">
效果
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/36643a6ab6d84a07a500a709c1657e45~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="WechatIMG67.png" loading="lazy"></p>
<p>参考文献：</p>
<p>Google 的 <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2F" target="_blank" title="https://web.dev/" ref="nofollow noopener noreferrer">web.dev/</a></p></div></article> <div class="article-end" data-v-5762947c data-v-2c6459d4><div class="rank-entry-bottom" data-v-5762947c data-v-2c6459d4><!----></div> <div class="tag-list-box" data-v-5762947c data-v-2c6459d4><!----><!----><!----></div></div> <!----><!----><!----><!----><!----></div> <div id="sidebar-container" class="sidebar article-sidebar" data-v-48278d5a data-v-2c6459d4><div class="sidebar-block author-block author-block-container pure" data-v-7e7e812a data-v-a6d177e4 data-v-48278d5a><a href="/user/2488950055245405/posts" target="_blank" rel="" class="jj-link user-item item" data-v-65b50b51 data-v-a6d177e4><div class="avatar jj-avatar avatar" data-v-03256cc6 data-v-a6d177e4><img loading="eager" src="https://p6-passport.byteacctimg.com/img/user-avatar/5a06a8d4ca947132adcc846b26cf3e5c~200x200.awebp" alt="avatar" class="lazy avatar-img immediate" data-v-5244ef91 data-v-03256cc6> </div> <div class="info-box" style="visibility:hidden;" data-v-65b50b51 data-v-a6d177e4><span to="[object Object]" blank="true" class="username" data-v-1800aadb data-v-a6d177e4><span class="name" style="max-width:128px;" data-v-1800aadb>
    蓝蓝酱
  </span> <span to="" blank="true" class="rank" data-v-23743940 data-v-1800aadb><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="创作等级LV.4" title="创作等级LV.4" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91 data-v-23743940></span> <!----> <!----> </span> <div title="前端程序媛" class="position" data-v-65b50b51 data-v-a6d177e4>
        前端程序媛
      </div> <div class="extra-container" data-v-65b50b51 data-v-a6d177e4><!----> </div></div></a> <div class="count-container" data-v-7e7e812a data-v-a6d177e4><a href="/user/2488950055245405/posts" target="_blank" rel="" class="jj-link stat-item item" data-v-65b50b51 data-v-a6d177e4><div class="count" style="display:none;" data-v-65b50b51 data-v-a6d177e4>
        5
      </div> <div data-v-65b50b51 data-v-a6d177e4>文章</div></a> <a href="/user/2488950055245405/posts" target="_blank" rel="" class="jj-link stat-item item" data-v-65b50b51 data-v-a6d177e4><div class="count" style="display:none;" data-v-65b50b51 data-v-a6d177e4>
        82k
      </div> <div data-v-65b50b51 data-v-a6d177e4>阅读</div></a> <a href="/user/2488950055245405/followers" target="_blank" rel="" class="jj-link stat-item item" data-v-65b50b51 data-v-a6d177e4><div class="count" style="display:none;" data-v-65b50b51 data-v-a6d177e4>
        155
      </div> <div data-v-65b50b51 data-v-a6d177e4>粉丝</div></a></div> <div class="operate-btn hidden" style="position:relative;z-index:2;min-height:36px;" data-v-7e7e812a data-v-a6d177e4><!----><!----><!----></div> <!----></div> <div class="sticky-block-box" data-v-48278d5a><nav class="article-catalog catalog-block none" data-v-6239701c data-v-16ed86c3 data-v-48278d5a><div class="catalog-title" data-v-6239701c><div data-v-6239701c>目录</div> <div class="direction" data-v-6239701c><div class="word" data-v-6239701c>收起</div> <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-rotate" data-v-6239701c data-v-6239701c><g id="&amp;#229;&amp;#177;&amp;#149;&amp;#229;&amp;#188;&amp;#128;" data-v-6239701c data-v-6239701c><path id="&amp;#232;&amp;#183;&amp;#175;&amp;#229;&amp;#190;&amp;#132;" fill-rule="evenodd" clip-rule="evenodd" d="M5.99854 7.93206L10.0644 3.86619C10.162 3.76856 10.3203 3.76856 10.418 3.86619L10.7715 4.21975C10.8691 4.31738 10.8691 4.47567 10.7715 4.5733L6.35209 8.99272C6.15683 9.18798 5.84025 9.18798 5.64498 8.99272L1.22557 4.5733C1.12794 4.47567 1.12794 4.31738 1.22557 4.21975L1.57912 3.86619C1.67675 3.76856 1.83504 3.76856 1.93267 3.86619L5.99854 7.93206Z" fill="#8A919F" data-v-6239701c data-v-6239701c></path></g></svg></div></div> <div class="catalog-body unfold" data-v-6239701c><ul class="catalog-list" style="margin-top:0px;" data-v-6239701c><li class="item d1" data-v-6239701c><div class="a-container"><a href="#heading-0" title="一、 Lighthouse" class="catalog-aTag d1-aTag-title">
      一、 Lighthouse
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="#heading-1" title="那让我们为了写个dome look look ，把问题制造出来。为了快速，我写的dome是用vuecli 4.0所以很多webpack配置是内置的，但我实际工作用的是react，无论脚手架怎么变，原理不会变。" class="catalog-aTag d2-aTag-title">
      那让我们为了写个dome look look ，把问题制造出来。为了快速，我写的dome是用vuecli 4.0所以很多webpack配置是内置的，但我实际工作用的是react，无论脚手架怎么变，原理不会变。
    </a></div> <ul class="sub-list"><li class="item d3"><div class="a-container"><a href="#heading-2" title="1. Use HTPP/2" class="catalog-aTag d3-aTag-title">
      1. Use HTPP/2
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-3" title="2. Remove unused CSS 或者 Remove unused JavaScript（移除无用的js和css）" class="catalog-aTag d3-aTag-title">
      2. Remove unused CSS 或者 Remove unused JavaScript（移除无用的js和css）
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-4" title="3.Serve static assets with an efficient cache policy（为静态资源提供缓存）" class="catalog-aTag d3-aTag-title">
      3.Serve static assets with an efficient cache policy（为静态资源提供缓存）
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-5" title="4.Minimize main-thread work  最小化主线程工作" class="catalog-aTag d3-aTag-title">
      4.Minimize main-thread work  最小化主线程工作
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-7" title="5.Ensure text remains visible during webfont load确保文本在Webfont加载期间保持可见" class="catalog-aTag d3-aTag-title">
      5.Ensure text remains visible during webfont load确保文本在Webfont加载期间保持可见
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-8" title="7. Reduce JavaScript execution time 减少js的执行时间" class="catalog-aTag d3-aTag-title">
      7. Reduce JavaScript execution time 减少js的执行时间
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-9" title="8. Avoid enormous network payloads 避免大量的网络负载" class="catalog-aTag d3-aTag-title">
      8. Avoid enormous network payloads 避免大量的网络负载
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-10" title="9. Eliminate render-blocking resources消除渲染阻止资源" class="catalog-aTag d3-aTag-title">
      9. Eliminate render-blocking resources消除渲染阻止资源
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-11" title="11.Defer offscreen images 延迟加载具有lazysizes的屏幕外图像" class="catalog-aTag d3-aTag-title">
      11.Defer offscreen images 延迟加载具有lazysizes的屏幕外图像
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-12" title="13. Image elements do not have explicit width and height 图片设置宽高" class="catalog-aTag d3-aTag-title">
      13. Image elements do not have explicit width and height 图片设置宽高
    </a></div> <!----></li></ul></li></ul></li><li class="item d1" data-v-6239701c><div class="a-container"><a href="#heading-14" title="二、 Performance（当页面卡顿、慢时可以使用Performance来分析问题）" class="catalog-aTag d1-aTag-title">
      二、 Performance（当页面卡顿、慢时可以使用Performance来分析问题）
    </a></div> <ul class="sub-list"><li class="item d2"><div class="a-container"><a href="#heading-15" title="想了解Performance呈现的结果，需要知道浏览器的渲染知识，这里大概罗列一下（懂的可以跳过，直接看后面案例分析）。" class="catalog-aTag d2-aTag-title">
      想了解Performance呈现的结果，需要知道浏览器的渲染知识，这里大概罗列一下（懂的可以跳过，直接看后面案例分析）。
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="#heading-16" title="1. Performance指标值" class="catalog-aTag d2-aTag-title">
      1. Performance指标值
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="#heading-17" title="2. RAIL 性能模型" class="catalog-aTag d2-aTag-title">
      2. RAIL 性能模型
    </a></div> <!----></li><li class="item d2"><div class="a-container"><a href="#heading-18" title="3.Performancem面板参数" class="catalog-aTag d2-aTag-title">
      3.Performancem面板参数
    </a></div> <ul class="sub-list"><li class="item d3"><div class="a-container"><a href="#heading-19" title="下面举两个例子来了解一下，怎么找出性能问题，并且解决" class="catalog-aTag d3-aTag-title">
      下面举两个例子来了解一下，怎么找出性能问题，并且解决
    </a></div> <!----></li><li class="item d3"><div class="a-container"><a href="#heading-20" title="再举个简单，无伤大雅的例子" class="catalog-aTag d3-aTag-title">
      再举个简单，无伤大雅的例子
    </a></div> <!----></li></ul></li></ul></li></ul></div></nav> <!----> <!----> <!----></div> <!----> <div id="wechat-assets__post-bottom" data-v-48278d5a></div></div> <!----> <div class="recommended-links main-area" data-v-65e9deb8 data-v-2c6459d4><p data-v-65e9deb8>友情链接：</p> <ul data-v-65e9deb8><li data-v-65e9deb8><a href="https://backend.devrank.cn/traffic-aggregation/1043719" title="dubbo注解" target="_blank" rel="noopener noreferrer" data-v-65e9deb8>
        dubbo注解
      </a></li><li data-v-65e9deb8><a href="https://backend.devrank.cn/traffic-aggregation/1097922" title="mysql 显示方式" target="_blank" rel="noopener noreferrer" data-v-65e9deb8>
        mysql 显示方式
      </a></li><li data-v-65e9deb8><a href="https://backend.devrank.cn/traffic-aggregation/1148724" title="mybatis sql lang" target="_blank" rel="noopener noreferrer" data-v-65e9deb8>
        mybatis sql lang
      </a></li><li data-v-65e9deb8><a href="https://backend.devrank.cn/traffic-aggregation/1195367" title="mysql navicat 绿色" target="_blank" rel="noopener noreferrer" data-v-65e9deb8>
        mysql navicat 绿色
      </a></li></ul></div> <div id="article-suspended-panel" data-v-5762947c data-v-2c6459d4></div></div> <!----><!----><!----></main> <!----></div> <!----> <div class="global-component-box"><!----></div> <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----> <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q){u.loading=a;u.skeleton=d;u.cursor=f;u.data=[];u.total=b;u.hasMore=d;H.id=w;H.self_description=l;H.followed=a;H.viewerIsFollowing=l;H.community=l;H.subscribedTagCount=b;H.wroteBookCount=b;H.boughtBookCount=b;H.isBindedPhone=a;H.level=E;H.user_id=w;H.user_name=D;H.company=e;H.job_title="前端程序媛";H.avatar_large="https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F5a06a8d4ca947132adcc846b26cf3e5c~300x300.image";H.description="菜菜的前端程序媛";H.followee_count=14;H.follower_count=155;H.post_article_count=F;H.digg_article_count=90;H.got_digg_count=807;H.got_view_count=81745;H.post_shortmsg_count=b;H.digg_shortmsg_count=g;H.isfollowed=a;H.favorable_author=b;H.power=G;H.study_point=b;H.university={university_id:f,name:e,logo:e};H.major={major_id:f,parent_id:f,name:e};H.student_status=b;H.select_event_count=b;H.select_online_course_count=b;H.identity=b;H.is_select_annual=a;H.select_annual_rank=b;H.annual_list_type=b;H.extraMap={};H.is_logout=b;H.annual_info=[];H.account_amount=b;H.user_growth_info={user_id:2488950055245405,jpower:G,jscore:581.2,jpower_level:E,jscore_level:F,jscore_title:"先锋掘友",author_achievement_list:[],vip_level:b,vip_title:e,jscore_next_level_score:2000,jscore_this_level_mini_score:500,vip_score:b};H.is_vip=a;H.become_author_days=b;H.collection_set_article_count=b;H.recommend_article_count_daily=b;H.article_collect_count_daily=b;H.juejinPower=G;H.jobTitle="前端程序媛";H.roles={isBookAuthor:a,isFavorableAuthor:a,isCobuilder:a,isAdmin:a};H.username=D;H.blogAddress=l;H.selfDescription="菜菜的前端程序媛";H.beLikedCount=807;H.beReadCount=81745;H.followerCount=155;H.followingCount=14;H.collectionCount=b;H.createdCollectionCount=b;H.followingCollectionCount=b;H.postedPostsCount=F;H.pinCount=b;H.likedArticleCount=90;H.likedPinCount=g;H.avatar="https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F5a06a8d4ca947132adcc846b26cf3e5c~300x300.image";H.latestLoginedInAt=c;H.createdAt=c;H.updatedAt=c;H.phoneNumber=e;H.titleDescription=e;H.followeesCount=14;H.applyEventCount=b;H.need_lead=b;H.followTopicCnt=b;return {layout:"default",data:[{renderPost:d}],fetch:[{queryString:e,isShowUserDropdownList:a,isShowAddMoreList:a,isFocus:a,isPhoneMenuShow:a,visibleBadge:a,placeholder:e,hiddenProperty:"hidden",searchHistoryVisible:a,searchHistoryItems:[],tabBadge:c,isChangePlaceholder:d,showMallBridge:a,removeSearchInputKeyupListener:c,logoImg:"\u002F\u002Flf3-cdn-tos.bytescm.com\u002Fobj\u002Fstatic\u002Fxitu_juejin_web\u002Fe08da34488b114bd4c665ba2fa520a31.svg"}],error:c,state:{view:{activityIndex:{activityList:[],pageInfo:{hasNextPage:a,endCursor:e},afterPosition:e,activityListIsLoading:d,activityListIsError:a,userActivityList:[],placeholder:e,actionType:{FETCH:"@\u002Fview\u002Factivity-index\u002FFETCH",FETCH_RECOMMEND_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_RECOMMEND_LIST",RESET_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FRESET_ACTIVITY_LIST",FETCH_USER_ACTIVITY_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_USER_ACTIVITY_LIST",FETCH_NEW_COUNT:"@\u002Fview\u002Factivity-index\u002FFETCH_NEW_COUNT",DELETE_ACTIVITY:"@\u002Fview\u002Factivity-index\u002FDELETE_ACTIVITY",TOGGLE_FOLLOW_USER:"@\u002Fview\u002Factivity-index\u002FTOGGLE_FOLLOW_USER",FETCH_ENTRY_COMMENT_LIST:"@\u002Fview\u002Factivity-index\u002FFETCH_ENTRY_COMMENT_LIST",UPDATE_LIST_LOADING:"@\u002Fview\u002Factivity-index\u002FUPDATE_LIST_LOADING",RESET:"@\u002Fview\u002Factivity-index\u002FRESET"},hotList:{list:[],after:e,loading:a,hasNextPage:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fhot-list\u002FRESET"}},sidebar:{bannerList:[],actionType:{RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FUPDATE_STATE",FETCH_BANNER:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002FFETCH_BANNER"},recommend:{pageSize:h,page:b,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-topic-list\u002FRESET"},after:b},followed:{pageSize:h,page:b,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Ffollowed-topic-list\u002FRESET"},after:b},recommendPin:{list:[],after:e,loading:a,hasNextPage:d,actionType:{UPDATE_STATE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FFETCH",RESET:"@\u002Fview\u002Factivity-index\u002Fsidebar\u002Frecommend-pin-list\u002FRESET"}}},topicPinList:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FUPDATE",FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FFETCH_MORE",RESET:"@\u002Fview\u002Factivity-index\u002Ftopic-pin-list\u002FRESET"},topicId:e,navList:[{type:j,name:j,title:"推荐 ",id:j},{type:m,name:m,title:"热门 ",id:m},{type:p,name:p,title:"关注 ",id:p},{type:i,name:"opensource",title:"开源推荐 ",id:"5c09ea2b092dcb42c740fe73"},{type:i,name:"recruitment",title:"内推招聘",id:"5abb61e1092dcb4620ca3322"},{type:i,name:"dating",title:"掘金相亲",id:"5abcaa67092dcb4620ca335c"},{type:i,name:"slacking",title:"上班摸鱼",id:"5c106be9092dcb2cc5de7257"},{type:i,name:"app",title:"应用安利",id:"5b514af1092dcb61bd72800d"},{type:i,name:"tool",title:"开发工具",id:"5abb67d2092dcb4620ca3324"},{type:i,name:"news",title:"New资讯",id:"5c46a17f092dcb4737217152"}],sortType:q}},search:{search_result_from:b,query:e,list:[],linkList:[],loading:a,skeleton:d,actionType:{FETCH:"@\u002Fview\u002Fsearch\u002FFETCH",FETCH_MORE:"@\u002Fview\u002Fsearch\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fsearch\u002FRESET"}},columnIndex:{list:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002Flist\u002FRESET"},sort:n,category:"all"},hotList:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FUPDATE",FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FFETCH_MORE",RESET:"@\u002Fview\u002FcolumnIndex\u002FhotList\u002FRESET"}}},timelineIndex:{tdkTemplates:[],categoryNavList:[],tagNavList:[],splitTagList:[],timelineAdList:[],list:[],sort:q,category:j,categoryId:e,tagId:e,tag:"全部",actionType:{FETCH_TIMELINE_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TIMELINE_LIST",FETCH_CATEGORY_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_CATEGORY_LIST",FETCH_TAG_LIST:"@\u002Fview\u002FtimelineIndex\u002FFETCH_TAG_LIST",DELETE_ENTRY:"@\u002Fview\u002FtimelineIndex\u002FDELETE_ENTRY",DELETE_USER_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_USER_ENTRIES",DELETE_TAG_ENTRIES:"@\u002Fview\u002FtimelineIndex\u002FDELETE_TAG_ENTRIES",FETCH_MORE:"@\u002Fview\u002FtimelineIndex\u002FFETCH_MORE",FETCH:"@\u002Fview\u002FtimelineIndex\u002FFETCH",RESET:"@\u002Fview\u002FtimelineIndex\u002FRESET"},serverRenderTimelineList:a,timelineList:{list:[],cursor:f,skeleton:d,loading:a,hasMore:d,categoryId:e,tagId:e,sort:e,actionType:{UPDATE_STATE:"timeline-list\u002FUPDATE_STATE",FETCH_MORE:"timeline-list\u002FFETCH_MORE",FETCH:"timeline-list\u002FFETCH",RESET:"timeline-list\u002FRESET"}},recommendList:{list:[],cursor:f,loading:a,skeleton:d,hasMore:d,actionType:{UPDATE_STATE:"recommend-list\u002FUPDATE_STATE",FETCH_MORE:"recommend-list\u002FFETCH_MORE",FETCH:"recommend-list\u002FFETCH",RESET:"recommend-list\u002FRESET"}},followingList:{list:[],cursor:f,skeleton:d,loading:a,hasMore:d,actionType:{UPDATE_STATE:"following-list\u002FUPDATE_STATE",FETCH_MORE:"following-list\u002FFETCH_MORE",FETCH:"following-list\u002FFETCH",RESET:"following-list\u002FRESET"}}},subscribe:{subscribed:{list:[],cursor:f,skeleton:d,loading:a,hasMore:a,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fsubscribed\u002Flist\u002FRESET"}},all:{list:[],cursor:f,loading:a,skeleton:d,hasMore:a,linkList:e,actionType:{UPDATE_STATE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH_MORE",FETCH:"view\u002Fsubscribe\u002Fall\u002Flist\u002FFETCH",RESET:"view\u002Fsubscribe\u002Fall\u002Flist\u002FRESET"}}},entryPublic:{entry:{user:{}},relatedEntryList:[],relatedCollectionList:[],actionType:{FETCH:"@\u002Fview\u002FentryPublic\u002FFETCH",RESET:"@\u002Fview\u002FentryPublic\u002FRESET"}},user:{user:{},serverRendered:a,userAnnuals:[],actionType:{FETCH:"@\u002Fview\u002Fuser\u002FFETCH",RESET:"@\u002Fview\u002Fuser\u002FRESET",UPDATE:"@\u002Fview\u002Fuser\u002FUPDATE",FETCH_ANNUALS:"@\u002Fview\u002Fuser\u002FFETCH_ANNUALS"},detailList:{actionType:{RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FRESET"},likeList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FlikePostList\u002FRESET"}},postList:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpostList\u002FRESET"}},searchList:{list:[],hasMore:a,skeleton:a,loading:a,key_word:e,search_type:b,cursor:f,isPostSearch:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FsearchList\u002FRESET"}},tagList:{list:[],loading:a,skeleton:a,hasMore:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FtagList\u002FRESET"}},collectionList:{list:[],userId:e,skeleton:a,hasMore:a,cursor:f,type:"created",loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FRESET",TOGGLE_FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FTOGGLE_FOLLOW_COLLECTION",FOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FFOLLOW_COLLECTION",UNFOLLOW_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FUNFOLLOW_COLLECTION",DELELTE_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FDELELTE_COLLECTION",ADD_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FADD_COLLECTION",EDIT_COLLECTION:"@\u002Fview\u002Fuser\u002FdetailList\u002FcollectionList\u002FEDIT_COLLECTION"}},followerList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowerList\u002FRESET"}},followingList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingList\u002FRESET"}},followingTeamsList:{list:[],cursor:f,hasMore:a,skeleton:a,loading:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FfollowingTeamsList\u002FRESET"}},activityList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FactivityList\u002FRESET"}},bookList:{list:[],cursor:f,skeleton:a,hasMore:a,loading:a,type:"wrote",actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FbookList\u002FRESET"}},pinList:{list:[],hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinList\u002FRESET"}},courseList:{list:[],hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcourseList\u002FRESET"}},pinPraisedList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FpinPraisedList\u002FRESET"}},eventList:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FeventList\u002FRESET"}},selfColumnList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnList\u002FRESET"}},columnFollowedList:{list:[],hasMore:a,skeleton:a,loading:a,cursor:f,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FRESET",FILTER:"@\u002Fview\u002Fuser\u002FdetailList\u002FcolumnFollowedList\u002FFILTER"}},realtimes:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimes\u002FDELETE"}},realtimeliked:{list:[],cursor:f,hasMore:a,loading:a,skeleton:a,actionType:{FETCH:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FRESET",DELETE:"@\u002Fview\u002Fuser\u002FdetailList\u002Frealtimeliked\u002FDELETE"}}}},tag:{tag:{},actionType:{FETCH:"@\u002Fview\u002Ftag\u002FFETCH",FETCH_LIST:"@\u002Fview\u002Ftag\u002FFETCH_LIST",RESET:"@\u002Fview\u002Ftag\u002FRESET"},list:{list:[],cursor:f,loading:a,skeleton:a,hasMore:a,actionType:{UPDATE_STATE:"@\u002Fview\u002Ftag\u002Flist\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Ftag\u002Flist\u002FFETCH",RESET:"@\u002Fview\u002Ftag\u002Flist\u002FRESET"}}},notification:{user:{actionType:{RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002FRESET"},listState:{list:[],cursor:f,hasMore:a,isLoading:a,messageType:r,msgTotal:b,msgSubMap:{"1":b,"2":b,"3":b,"4":b,"7":b}},list:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fuser\u002Flist\u002FRESET"}}},system:{actionType:{RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002FRESET"},list:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fnotification\u002Fsystem\u002Flist\u002FRESET"}}}},column:{serverRenderList:a,column:{id:k},entry:{id:k,screenshot:l,liked:a,article_id:k,article_info:{article_id:k,user_id:w,category_id:"6809637767543259144",tag_ids:[6809641167680963000,6809640407484334000,6809640404791591000],visible_level:b,link_url:e,cover_image:e,is_gfw:b,title:x,brief_content:y,is_english:b,is_original:g,user_index:b,original_type:b,original_author:e,content:e,ctime:"1621838854",mtime:"1660622964",rtime:"1621843843",draft_id:z,view_count:A,collect_count:B,digg_count:s,comment_count:C,hot_index:1348,is_hot:b,rank_index:.00354868,status:t,verify_status:g,audit_status:t,mark_content:e,display_count:b,is_markdown:g,app_html_content:e,version:r,web_html_content:"\u003Cstyle\u003E.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre\u003Ecode{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:\"\"}.markdown-body blockquote\u003Ep{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}\u003C\u002Fstyle\u003E\u003Cstyle data-highlight data-highlight-key=\"juejin\"\u003E.markdown-body pre,.markdown-body pre\u003Ecode.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}\u003C\u002Fstyle\u003E\u003Cp\u003E这篇文章总结一下我过往项目的web性能优化，主要是就项目中如何发现性能问题，优化如何解决，谈一下性能优化。把学习的过程跟大家分享一下，共同学习。web的性能监测工具我用的是Chrome的Performance 面板和Lighthouse。\u003C\u002Fp\u003E\n\u003Cp\u003E回想起以前工作被产品拉进小黑屋，要我优化目前项目组的3个项目的性能问题。说体验起来比较卡。我带着激动地心，颤抖的手打开项目跑一下分数，普遍15-60分。因为我们项目是数据可视化的项目。追求的是什么？酷炫吊炸天！！！！各种3D的地图，酷炫的动画，复杂的交互。优化……好吧，打工人打工魂。哦豁，优化好像依然没有达到预期的效果，经过不懈的努力还是能有质的提升。因为公司项目是内网的（公司安全防范超过严格，啥也看不了），我是半行代码也拷不出来，也不敢贴出来呀，我尽量把问题制造在demo里，也方便观察和解决。\u003C\u002Fp\u003E\n\u003Cp\u003E拓展插件，没有安装的安装看一下。如果有错误的地方希望大家提出来，以便我能及时修改~\u003C\u002Fp\u003E\n\u003Ch3 data-id=\"heading-0\"\u003E一、 Lighthouse\u003C\u002Fh3\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ELighthouse生成的是一个报告，会给你的页面跑出一个分数来。 分别是页面性能（performance）、Progressive（渐进式 Web 应用）、Accessibility（可访问性）、Best  Practices（最佳实践）、SEO 五项指标的跑分。甚至针对我们的性能问题给出了可行的建议、以及每一项优化操作预期会帮我们节省的时间。这份报告的可操作性是很强的——我们只需要对着 LightHouse 给出的建议，一条一条地去尝试，就可以看到自己的页面，在一秒一秒地变快。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E打开项目跑一下分数，看看都有什么问题（分数每次测会有偏差，而且跟网速也有关系，所以不用太在意分数，关心一下Lighthouse给我们的建议）还有个人觉得在生产环境测会比本地靠谱\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fe837cafdd9114d6db437d255e03479de~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG89.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 data-id=\"heading-1\"\u003E那让我们为了写个dome look look ，把问题制造出来。为了快速，我写的dome是用vuecli 4.0所以很多webpack配置是内置的，但我实际工作用的是react，无论脚手架怎么变，原理不会变。\u003C\u002Fh4\u003E\n\u003Ch5 data-id=\"heading-2\"\u003E1. Use HTPP\u002F2\u003C\u002Fh5\u003E\n\u003Cp\u003E嗯，这个这个，HTTP\u002F2的优点我就不多说了，大家可以去了解一下。15年发表到现在已经很成熟了，可以使用起来~\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-3\"\u003E2. Remove unused CSS 或者 Remove unused JavaScript（移除无用的js和css）\u003C\u002Fh5\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E考虑一下按需引入和CDN(这个在实际项目中会比较复杂，因为代码比较多。分析问题比较难)\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E我随便加了几个第三方库，写了几个页面。首先看看大小，明明打包出来压缩的是493k的怎么加载时1643k呢\n\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fc146fcf48814446ca4c3703827502bb4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG95.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F38c1e9cb228940c7bcecdb5e00cd67ba~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG94.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E去看看nginx配置，哦豁，示范的时候，我把开启Gzip注释了，放开放开，之后看看正常了。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fb21b848340094df09e08491035e85c6b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG93.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F08376e800fe8442893e561a416a5025d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG92.jpeg\" loading=\"lazy\"\u003E\u003Cbr\u003E\n目测打包出来1M多的chunk.js也是有点大，webpack普遍优化：切割一下打包文件，不要全部打包到一起。全局引入了echarts和element我们把这两个js分开打包, 使用optimization.splitChunks\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fcde3418ca69148959acf4a18e81df65d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG99.jpeg\" loading=\"lazy\"\u003E\n\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fd50f5151609b4c798443b101002c628d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG98.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E结果\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F997ad7e398e1451cbefcad4e053c0f48~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG99.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F6bd99e6f6fb2462daee7b00ebf8204d8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG100.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E我把压缩释放看看，点开Coverage面板，刷新看看。可以看到那些是关键资源（红色非关键，蓝色关键资源）。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ffc660a736e5a4b158130dbb118b653da~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG75.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E点击查看详细加载情况，红色的就是没有使用的代码，但是打包压缩后的代码，我们一般都看不出来是人还是鬼。所以我们尽量对代码进行切割，不仅可以减少大文件加载的时间，也可以明确问题所在。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fc3b5a1a8b6c748da8b0eef2a0fc1034e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WX20210518-000301@2x.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E我们可以处理一下第三方的js，能看到echarts和elemenet-ui加载的大小和实际使用的大小有出入，一般Lighthouse用超过20 kb的未使用代码标记每个JavaScript文件。我们改变一下element-ui的引入方式，目前是全局引入，我们可以使用按需引入，因为目前我只用到了Button，我们就只需要引入Button。优化后打包大小明显变小。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fed031c832dfa47d79c9a0cd51871a8f2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG103.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F7ba68c344ab84bc895990f02bf4e66bd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG101.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F53886714347f4a979c1ebc50baf0548e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\n如果项目使用的组件比较多，按需引入不方便，必须全局引入。这时候考虑一下，因为第三方的库我们不会经常去更新的，可以使用cdn的方式引入，就减免打包的大小。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F2f07126906934eb5861688cd8a5d56a5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fdc923e87dd5940f5ae9cbd0059131b25~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E配置（我vue也不怎么用，大家参照参考官网配置就好，注意的是vue必须要先加载了，不然element-ui会报错。如果开发环境使用**min.js可能无法调试）\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F1365f976db4f41df96bc4a0da227f2da~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG83.png\" loading=\"lazy\"\u003E\n使用（不再需要import，其他正常使用就好）\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F3dacf76c55d94a8c919a82e61b63dc49~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG82.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F3f04d122b221437ca00501990696de15~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG104.jpeg\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-4\"\u003E3.Serve static assets with an efficient cache policy（为静态资源提供缓存）\u003C\u002Fh5\u003E\n\u003Cp\u003E对于不常改变的静态资源比如说css、image等可以进行缓存，针对缓存也总结了一下，可以看看\u003C\u002Fp\u003E\n\u003Cp\u003E打开ngnix配置文件，把缓存配上（这里粗暴把js和css缓存了，实际项目根据实际需要配置缓存）\n\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ff1d2d1f970ea45cebda08e134ae0440e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"uuuu.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F8f47fad4c64548b298901eabb1a9dbee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F1a691cf976ed435bb7a786397fa9c90f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-5\"\u003E4.\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fmainthread-work-breakdown%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Fmainthread-work-breakdown\u002F?utm_source=lighthouse&#x26;utm_medium=devtools\" ref=\"nofollow noopener noreferrer\"\u003EMinimize main-thread work\u003C\u002Fa\u003E  最小化主线程工作\u003C\u002Fh5\u003E\n\u003Cp\u003E浏览器的渲染器过程将您的代码转换为用户可以与之交互的网页。默认情况下，渲染器进程的主线程通常处理大多数代码：它解析HTML并构建DOM，解析CSS并应用指定的样式，并解析，评估并执行JavaScript。主线程还处理用户事件。因此，每当主线程忙于执行其他操作时，您的网页就可能无法响应用户交互，从而导致不良的体验。\u003C\u002Fp\u003E\n\u003Cp\u003E看看dome的例子，主要渲染时间在Style&#x26;&#x26;Layout，说明我们的重排重绘时间占了主要时间，那我们就想办法减少重排，这部分在performance面板看比较直观，下面performance会讲到这个例子的处理，这里跳过。\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F928011081346400c82f7fff14f2fd46b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EGoogle对我们的建议是：\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E这个会比较笼统，只能根据项目一点一点改变， 样式、布局和渲染下面performance会介绍到\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Col\u003E\n\u003Cli\u003E脚本评估\n\u003Cul\u003E\n\u003Cli\u003E优化第三方JavaScript\u003C\u002Fli\u003E\n\u003Cli\u003E消除您的输入处理程序\u003C\u002Fli\u003E\n\u003Cli\u003E使用网络工作者\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E样式和布局\n\u003Cul\u003E\n\u003Cli\u003E减少样式计算的范围和复杂性\u003C\u002Fli\u003E\n\u003Cli\u003E避免大型，复杂的布局和布局颠簸\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E渲染\n\u003Cul\u003E\n\u003Cli\u003E坚持只使用合成器属性并管理层数\u003C\u002Fli\u003E\n\u003Cli\u003E简化paint复杂性并减少paint面积\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E解析HTML和CSS\n\u003Cul\u003E\n\u003Cli\u003E提取关键CSS\u003C\u002Fli\u003E\n\u003Cli\u003E缩小CSS\u003C\u002Fli\u003E\n\u003Cli\u003E推迟非关键CSS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E脚本解析和编译\n\u003Cul\u003E\n\u003Cli\u003E通过代码拆分减少JavaScript负载\u003C\u002Fli\u003E\n\u003Cli\u003E删除未使用的代码\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch6 data-id=\"heading-6\"\u003E如何分析非关键代码\u003C\u002Fh6\u003E\n\u003Cp\u003E上面有提过 Coverage Tool\u003C\u002Fp\u003E\n\u003Cp\u003E图片可以看出这个页面其实根本就不使用到element-ui css， 我们可以设置延迟加载非关键CSS\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fbd95bcdf4c0440eba992e423246fe3d0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Ewebpack设置 html-critical-webpack-plugin\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F684e77b727e84fb7a82485bce315d4d4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\n效果\n\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fbb9bb86371b049848d16635603a05a55~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E原理\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Elink rel=\"preload\" as=\"style\"异步请求样式表。您可以preload在\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fpreload-critical-assets%2F\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Fpreload-critical-assets\u002F\" ref=\"nofollow noopener noreferrer\"\u003E《预载关键资产》指南\u003C\u002Fa\u003E中了解更多信息。\u003C\u002Fli\u003E\n\u003Cli\u003Eonload属性link允许CSS在加载完成后进行处理，在这里执行null转化，可以避免在切换rel属性时重复处理\u003C\u002Fli\u003E\n\u003Cli\u003Enoscript元素对不支持javascript的浏览器做兼容。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5 data-id=\"heading-7\"\u003E5.\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Ffont-display%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Ffont-display\u002F?utm_source=lighthouse&#x26;utm_medium=devtools\" ref=\"nofollow noopener noreferrer\"\u003EEnsure text remains visible during webfont load\u003C\u002Fa\u003E确保文本在Webfont加载期间保持可见\u003C\u002Fh5\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fad746a44b08048bb9512e4b43cb7e9ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG78.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cul\u003E\n\u003Cli\u003EFOIT是浏览器在加载字体的时候的默认表现形式，也就是在字体加载过程中，页面是看不到文本内容的。在现代浏览器中，FOIT会导致这种现象出现至多3秒。FOIT会导致很差的用户体验，这是我们需要尽量去避免的.\u003C\u002Fli\u003E\n\u003Cli\u003EFOUT意思是在字体加载过程中使用默认的系统字体，字体加载完后显示加载的字体，如果超过了FOIT(3s)字体还没加载，则继续使用默认的系统字体。\u003C\u002Fli\u003E\n\u003Cli\u003Eswap告诉浏览器使用字体的文本应立即使用系统字体显示。自定义字体准备好后，它将替换系统字体。可以避免在大多数现代浏览器中使用FOIT(并非所有主流浏览器都支持font-display: swap)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fa4cc9515e10d434cb18586c896486fb2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG79.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-8\"\u003E7. \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fbootup-time%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Fbootup-time\u002F?utm_source=lighthouse&#x26;utm_medium=devtools\" ref=\"nofollow noopener noreferrer\"\u003EReduce JavaScript execution time\u003C\u002Fa\u003E 减少js的执行时间\u003C\u002Fh5\u003E\n\u003Cp\u003E当JavaScript执行时间超过2秒时，Lighthouse将显示警告。执行时间超过3.5秒时，审核将失败\u003C\u002Fp\u003E\n\u003Cp\u003E建议（这些webpack都有相关的配置）：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E拆分代码。\u003C\u002Fli\u003E\n\u003Cli\u003E缩小并压缩代码\u003C\u002Fli\u003E\n\u003Cli\u003E删除未使用的代码 (tree shaking)\u003C\u002Fli\u003E\n\u003Cli\u003E使用缓存代码（上面有讲）\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5 data-id=\"heading-9\"\u003E8. \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Ftotal-byte-weight%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Ftotal-byte-weight\u002F?utm_source=lighthouse&#x26;utm_medium=devtools\" ref=\"nofollow noopener noreferrer\"\u003EAvoid enormous network payloads\u003C\u002Fa\u003E 避免大量的网络负载\u003C\u002Fh5\u003E\n\u003Cp\u003E这个涉及因素比较多，考虑从多方面入手，参考下面方法：\u003C\u002Fp\u003E\n\u003Cp\u003E减少网络负载方法\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E将请求推迟到需要时再发送。有关的方法，请参阅PRPL模式。\u003C\u002Fli\u003E\n\u003Cli\u003E最小化和压缩网络负载。\u003C\u002Fli\u003E\n\u003Cli\u003E对图像使用WebP而不是JPEG或PNG（图片要求不严格，可以压缩体积，我常用的在线压缩网站\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Ftinypng.com%2F%25EF%25BC%2589%25E3%2580%2582\" target=\"_blank\" title=\"https:\u002F\u002Ftinypng.com\u002F%EF%BC%89%E3%80%82\" ref=\"nofollow noopener noreferrer\"\u003Etinypng.com\u002F）。\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E将JPEG图像的压缩级别设置为85。\u003C\u002Fli\u003E\n\u003Cli\u003E缓存请求，以使页面在重复访问时不会重新下载资源。（请参阅“网络可靠性”登录页面，以了解缓存的工作原理以及实现方法。）\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPRPL\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPush（推送或预加载）最重要的资源。\u003C\u002Fli\u003E\n\u003Cli\u003ERender：尽快渲染初始路线。\u003C\u002Fli\u003E\n\u003Cli\u003EPre-cache 预缓存剩余资源。\u003C\u002Fli\u003E\n\u003Cli\u003ELazy load  延迟加载其他路由和非关键资源。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E比如：vuecli3.x or 4.x默认打包之后，部署到服务器上的项目，会对静态资源的标签上默认加载preload或者prefetch属性（preload主要用于预加载当前页面需要的资源；而prefetch主要用于加载将来页面可能需要的资源）\u003C\u002Fp\u003E\n\u003Cp\u003E预加载&#x26;&#x26;延迟加载\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003Epreload  ：是一种声明式的资源获取请求方式，用于提前加载一些需要的依赖，并且不会影响页面的onload事件。通过在HTML文档的开头添加标记rel=\"preload\"来预加载关键资源，浏览器为资源设置了更合适的优先级，如果as属性被省略，那么该请求将会当做异步请求处理：\u003Cbr\u003E\n\u003Ccode\u003E&#x3C;link rel=\"preload\" as=\"style\" href=\"css\u002Fstyle.css\"\u003E\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Eprefetch ：是一种利用浏览器的空闲时间加载页面将来可能用到的资源的一种机制；通常可以用于加载非首页的其他页面所需要的资源，以便加快后续页面的首屏速度；\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E延迟加载 ：是一种根据需要而不是预先加载资源的策略。这种方法在初始页面加载期间释放了资源，并避免了加载从未使用过的资产。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E如果您在网页上加载许多图像，请在加载页面时推迟所有折叠以下或设备视口之外的图像（请参阅使用\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fuse-lazysizes-to-lazyload-images%2F\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Fuse-lazysizes-to-lazyload-images\u002F\" ref=\"nofollow noopener noreferrer\"\u003Elazysizes\u003C\u002Fa\u003E延迟加载图像）。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5 data-id=\"heading-10\"\u003E9. \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Frender-blocking-resources%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Frender-blocking-resources\u002F?utm_source=lighthouse&#x26;utm_medium=devtools\" ref=\"nofollow noopener noreferrer\"\u003EEliminate render-blocking resources\u003C\u002Fa\u003E消除渲染阻止资源\u003C\u002Fh5\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F9336fd67e0cc4c5593c64b690eaa78c4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E在浏览器可以呈现任何内容之前，它需要将HTML标记解析为DOM树。如果遇到任何外部样式表（\u003Ccode\u003E&#x3C;link rel=\"stylesheet\" \u002F\u003E\u003C\u002Fcode\u003E）或同步JavaScript标记（\u003Ccode\u003E&#x3C;script src=\"main.js\"\u003E&#x3C;\u002Fscript\u003E\u003C\u002Fcode\u003E），HTML解析器将暂停。\n脚本和样式表都是渲染阻塞资源，这些资源会延迟FCP，从而延迟LCP。推迟使用任何非关键的JavaScript和CSS来加快网页主要内容的加载。\n减少CSS阻断时间:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E缩小CSS: 对于Webpack：optimize-css-assets-webpack-plugin\u003C\u002Fli\u003E\n\u003Cli\u003E推迟非关键CSS\u003C\u002Fli\u003E\n\u003Cli\u003E内联关键CSS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5 data-id=\"heading-11\"\u003E11.\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fcodelab-use-lazysizes-to-lazyload-images%2F\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Fcodelab-use-lazysizes-to-lazyload-images\u002F\" ref=\"nofollow noopener noreferrer\"\u003EDefer offscreen images\u003C\u002Fa\u003E 延迟加载具有lazysizes的屏幕外图像\u003C\u002Fh5\u003E\n\u003Cp\u003E延迟加载图片应该经常会用到，就不示范了 vue-lazyload \u002F lazysizes.min.js\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ffd933fb555c74364b4a85e91cb7f8d29~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG80.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-12\"\u003E13. \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Foptimize-cls%2F%3Futm_source%3Dlighthouse%26utm_medium%3Ddevtools%23images-without-dimensions\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Foptimize-cls\u002F?utm_source=lighthouse&#x26;utm_medium=devtools#images-without-dimensions\" ref=\"nofollow noopener noreferrer\"\u003EImage elements do not have explicit width and height\u003C\u002Fa\u003E 图片设置宽高\u003C\u002Fh5\u003E\n\u003Cp\u003E这个很好理解就不写案例了————\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E始终在图像和视频元素上包括width和设置height尺寸属性。\u003Cimg src=\"\" loading=\"lazy\"\u003E以确保在浏览器开始获取图像之前在页面上分配了足够的空间。这将最大程度地减少回流和重新布局。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Ccode\u003E&#x3C;img src=\"puppy.jpg\" width=\"640\" height=\"360\" alt=\"Puppy with balloons\" \u002F\u003E\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E或者设置height：auto 自适应保真比例也可以\u003C\u002Fp\u003E\n\u003Ch6 data-id=\"heading-13\"\u003ECLS较差的最常见原因是：\u003C\u002Fh6\u003E\n\u003Cul\u003E\n\u003Cli\u003E图片无尺寸\u003C\u002Fli\u003E\n\u003Cli\u003E没有尺寸的广告，嵌入和iframe\u003C\u002Fli\u003E\n\u003Cli\u003E动态注入的内容\u003C\u002Fli\u003E\n\u003Cli\u003EWeb字体导致FOIT \u002F FOUT\u003C\u002Fli\u003E\n\u003Cli\u003E在更新DOM之前等待网络响应的操作\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 data-id=\"heading-14\"\u003E二、 Performance（当页面卡顿、慢时可以使用Performance来分析问题）\u003C\u002Fh3\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003Elighthouse生成一个报告有些参数来源于performance，相对比lighthouse的分数和建议，performance用于记录和分析我们的应用在运行时的所有活动。它呈现的数据具有实时性、多维度的特点，可以帮助我们很好地定位性能问题。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E比如下图，我们看到style\u002FLayout耗时非常夸张，但是我定位不到准确的地方，这个时候我们用performance面板看看\n\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F23e4ab3002b844249a36dadff67ba4eb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\nPerformance整体分析\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F60a3c21d41b44015808a7038608634c7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG57.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-15\"\u003E想了解Performance呈现的结果，需要知道浏览器的渲染知识，这里大概罗列一下（懂的可以跳过，直接看后面案例分析）。\u003C\u002Fh5\u003E\n\u003Ch5 data-id=\"heading-16\"\u003E1. Performance指标值\u003C\u002Fh5\u003E\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth\u003E名词\u003C\u002Fth\u003E\u003Cth\u003E解析\u003C\u002Fth\u003E\u003Cth\u003E详细\u003C\u002Fth\u003E\u003C\u002Ftr\u003E\u003C\u002Fthead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003EFP (First Paint)\u003C\u002Ftd\u003E\u003Ctd\u003E首次绘制\u003C\u002Ftd\u003E\u003Ctd\u003E标记浏览器渲染任何在视觉上不同于导航前屏幕内容之内容的时间点\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EFCP (First Contentful Paint)\u003C\u002Ftd\u003E\u003Ctd\u003E首次内容绘制\u003C\u002Ftd\u003E\u003Ctd\u003E标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、非空白canvas或SVG 甚至 元素.\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ELCP (Largest Contentful Paint)\u003C\u002Ftd\u003E\u003Ctd\u003E最大内容渲染\u003C\u002Ftd\u003E\u003Ctd\u003E代表在viewport中最大的页面元素加载的时间. LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象.\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EDCL (Dom Content loaded)\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E当 HTML文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，无需等待样式表、图像和子框架的完成加载\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EFMP(First Meaningful Paint)\u003C\u002Ftd\u003E\u003Ctd\u003E首次有效绘制\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EL (onLoad)\u003C\u002Ftd\u003E\u003Ctd\u003E加载完成\u003C\u002Ftd\u003E\u003Ctd\u003E当依赖的资源, 全部加载完毕之后才会触发.\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ETTI (Time to Interactive)\u003C\u002Ftd\u003E\u003Ctd\u003E可交互时间\u003C\u002Ftd\u003E\u003Ctd\u003E指标用于标记应用已进行视觉渲染并能可靠响应用户输入的时间点.\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ETBT (Total Blocking Time)\u003C\u002Ftd\u003E\u003Ctd\u003E页面阻塞总时长\u003C\u002Ftd\u003E\u003Ctd\u003ETBT汇总所有加载过程中阻塞用户操作的时长，在FCP和TTI之间任何long task中阻塞部分都会被汇总\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EFID (First Input Delay)\u003C\u002Ftd\u003E\u003Ctd\u003E首次输入延迟\u003C\u002Ftd\u003E\u003Ctd\u003E指标衡量的是从用户首次与您的网站进行交互（即当他们单击链接，点击按钮等）到浏览器实际能够访问之间的时间\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ECLS (Cumulative Layout Shift)\u003C\u002Ftd\u003E\u003Ctd\u003E累积布局偏\u003C\u002Ftd\u003E\u003Ctd\u003E总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去。具体的计算方法可看这篇文章 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fcls%2F\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002Fcls\u002F\" ref=\"nofollow noopener noreferrer\"\u003E《Cumulative Layout Shift (CLS)》 \u003C\u002Fa\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ESI (Speed Index)\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E指标用于显示页面可见部分的显示速度, 单位是时间\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Ch4 data-id=\"heading-17\"\u003E2. RAIL 性能模型\u003C\u002Fh4\u003E\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth\u003E名词\u003C\u002Fth\u003E\u003Cth\u003E解析\u003C\u002Fth\u003E\u003Cth\u003E详细\u003C\u002Fth\u003E\u003C\u002Ftr\u003E\u003C\u002Fthead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003Eresponse\u003C\u002Ftd\u003E\u003Ctd\u003E响应\u003C\u002Ftd\u003E\u003Ctd\u003E用户输入之后是否能在100ms之内响应\u003Cbr\u003E这里的输入包括点击按钮、切换表单控件等，但不包括触摸滑动或滚动（50ms内完成较好）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003Eanimation\u003C\u002Ftd\u003E\u003Ctd\u003E动画\u003C\u002Ftd\u003E\u003Ctd\u003E最近手机圈很流行将屏幕刷新率提升为90hz，这里hz就是帧率，90hz就是每秒有90帧，一帧就是一个画面。每秒看到的画面越多，我们就会感到越流畅，（每10ms内产生一帧较好）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003Eidle\u003C\u002Ftd\u003E\u003Ctd\u003E浏览器空置状态\u003C\u002Ftd\u003E\u003Ctd\u003E利用空闲的时间完成一些推迟的工作。推迟的工作应分为50ms的多个块进行。（尽可能增加空闲时间）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003Eload\u003C\u002Ftd\u003E\u003Ctd\u003E加载\u003C\u002Ftd\u003E\u003Ctd\u003E5s加载完成并且可以交互\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Ch4 data-id=\"heading-18\"\u003E3.Performancem面板参数\u003C\u002Fh4\u003E\n\u003Cp\u003E【第3以下配置都是用来模拟手机、慢网络下使用的】\u003C\u002Fp\u003E\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth\u003E名词\u003C\u002Fth\u003E\u003Cth\u003E解析\u003C\u002Fth\u003E\u003C\u002Ftr\u003E\u003C\u002Fthead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003Eno recordings\u003C\u002Ftd\u003E\u003Ctd\u003E就是每一次的检测报告，可以根据每一次的检测报告，去进行性能优化的对比\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EScreenshots\u003C\u002Ftd\u003E\u003Ctd\u003E是用来查看在每个时间段界面的变化\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EMemory\u003C\u002Ftd\u003E\u003Ctd\u003E存储调用栈的大小，在不同时间段的不同大小；\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EDisable Javascript samples\u003C\u002Ftd\u003E\u003Ctd\u003E禁用 javascript 调用栈,关闭javaScript样本减少在手机运行时的开销，模拟手机运行时勾选\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EEnable advanced paint instrumentation (slow)\u003C\u002Ftd\u003E\u003Ctd\u003E记录渲染事件的细节,选择frames中的一块，可以看到区域四多了个Layers\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ENetwork\u003C\u002Ftd\u003E\u003Ctd\u003E网络模拟,可以模拟在3G,4G等网络条件下运行页面；\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ECPU\u003C\u002Ftd\u003E\u003Ctd\u003E用来查看电脑的性能问题,主要为了模拟底CPU下运行性能\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EHEAP\u003C\u002Ftd\u003E\u003Ctd\u003EJavaScrip 执行的时间分布。\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E区域2：网页性能总览图（overview）\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth\u003E名词\u003C\u002Fth\u003E\u003Cth\u003E解析\u003C\u002Fth\u003E\u003C\u002Ftr\u003E\u003C\u002Fthead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003EFPS\u003C\u002Ftd\u003E\u003Ctd\u003E每秒帧数，是用来分析动画的一个主要性能指标，对于动画而言标准是保持在60FPS。绿色越高越好，出现红色则表示FPS低（这就是你为啥觉得页面卡顿了），你可以在区域三Frames中看到具体的FPS值（见下面第二图）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ECPU\u003C\u002Ftd\u003E\u003Ctd\u003E处理各个任务花费的时间，选择一段CPU统计可以在区域四的Summary看到统计表格\u003Cbr\u003E Scripting 脚本\u003Cbr\u003ERendering 渲染\u003Cbr\u003EPainting 绘制\u003Cbr\u003ELoading 加载\u003Cbr\u003Eldle 闲置\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ENET\u003C\u002Ftd\u003E\u003Ctd\u003E每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间）。\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E区域3：线程面板\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E名词\u003C\u002Ftd\u003E\u003Ctd\u003E解析\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EFrames\u003C\u002Ftd\u003E\u003Ctd\u003E帧线程，鼠标悬浮绿色块可以看到fps\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EMain\u003C\u002Ftd\u003E\u003Ctd\u003E主线程，负责执行Javascript, 解析HTML\u002FCSS, 完成绘制。\u003Cbr\u003E可以看到主线程调用栈和耗时情况，每个长条都是一个事件，悬浮可以看到耗时和事件名\u003Cbr\u003Ex轴指时间： 最上面的第一条就是事件触发的地方，直到结束，这条线是最长的\u003Cbr\u003Ey轴指调用栈：上面的event调用了下面的子event，越到下面数量越少（瀑布）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ERaster\u003C\u002Ftd\u003E\u003Ctd\u003ERaster线程，负责完成某个layer或者某些块(tile)的绘制。光栅化线程池，用来让 GPU执行光栅化的任务\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EInteractions\u003C\u002Ftd\u003E\u003Ctd\u003E用来记录用户交互操作，比如点击鼠标、输入文字、动画等\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ETimings\u003C\u002Ftd\u003E\u003Ctd\u003E用来记录一些关键的时间节点在何时产生的数据信息，诸如 FP、FCP、LCP 等\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ECompositor\u003C\u002Ftd\u003E\u003Ctd\u003E合成线程的执行记录，用来记录html绘制阶段 (Paint)结束后的图层合成操作\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Cp\u003E区域4：统计面板\u003C\u002Fp\u003E\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable\u003E\u003Cthead\u003E\u003Ctr\u003E\u003Cth\u003E名词\u003C\u002Fth\u003E\u003Cth\u003E解析\u003C\u002Fth\u003E\u003C\u002Ftr\u003E\u003C\u002Fthead\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003ESummary\u003C\u002Ftd\u003E\u003Ctd\u003E统计图：展示各个事件阶段耗费的时间\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EBottom-Up\u003C\u002Ftd\u003E\u003Ctd\u003E排序：可以看到各个事件消耗时间排序\u003Cbr\u003E(1)self-time 指除去子事件这个事件本身消耗的时间\u003Cbr\u003E(2)total-time 这个事件从开始到结束消耗的时间（包含子事件）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003ECall Tree\u003C\u002Ftd\u003E\u003Ctd\u003E调用栈：Main选择一个事件，表示事件调用顺序列表（从最顶层到最底层，而不是只有当前事件）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003EEvent Log\u003C\u002Ftd\u003E\u003Ctd\u003E事件日志\u003Cbr\u003E(1) 多了个start time，指事件在多少毫秒开始触发的\u003Cbr\u003E(2) 右边有事件描述信息\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Ch5 data-id=\"heading-19\"\u003E下面举两个例子来了解一下，怎么找出性能问题，并且解决\u003C\u002Fh5\u003E\n\u003Cp\u003E1、下面这张图，动画看起来是有点卡顿的问题的，利用performance测试一下，可以看到Main面板里面展开看到很多Task右上角都有红色的三角形，说明是个Long Task，注意Animation Frame Fired事件右上角的红色三角形图标，该红色三角图标是这个事件有问题的警告。\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F8acc8a8f72f64f8e831f45dd015193a1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"bbb.gif\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E选中其中一个Animation Frame Fired 查看详细信息，可以看到有问题的代码在第几行，点击代码会跳到指定代码\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ffd7988dc588b4636bdc95017e69f4f4a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG60.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E再放大可以看到Animation Frame Fired有很多紫色的Layout模块，右上角也有红色三角形。点击选中Forced reflow查看信息，看到造成卡顿的原因是很多元素进行不断的回流和重绘。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F2e54561391e8405cbc67a701926ee013~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG61.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E看一下代码，有1000个元素在不断通过他的offsetTop改变宽（如果你电脑性能比较好，可以改成5000个，卡顿效果更佳明显）。当你要用到像这样的属性：offsetTop、offsetLeft、 offsetWidth、offsetHeight、scrollTop、scrollLeft、scrollWidth、scrollHeight、clientTop、clientLeft、clientWidth、clientHeight 时，需要通过即时计算得到，所以也进行回流（重排）。我们无法避免读取属性，但是不用每一个元素读取完offsetTop再马上赋值，我们可以先批量读取完属性后再赋值.可以利用开源的\u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ffastdom\" target=\"_blank\" title=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Ffastdom\" ref=\"nofollow noopener noreferrer\"\u003Efastdom\u003C\u002Fa\u003E来解决这个问题（可以去看看它的源码，没有多少行）\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fe55868bb4d2e486da34a77bec221c680~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E2.使用fastdom优化的代码（读写分离）\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F9f94a934214049858bb8ed865276b941~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG63.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E3.优化前后效果对比\u003C\u002Fp\u003E\n\u003Cp\u003E优化前\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F8acc8a8f72f64f8e831f45dd015193a1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"bbb.gif\" loading=\"lazy\"\u003E\n优化后\n\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F1e0936cd5b49490c95f51544bddc5a87~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"aaa.gif\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch5 data-id=\"heading-20\"\u003E再举个简单，无伤大雅的例子\u003C\u002Fh5\u003E\n\u003Cp\u003E下面是需要拖拽线条位置改变方格大小（当然了，只写了线条拖拽功能），再performance上看到有很多layout Shift（布局偏移）\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Ffdf4ad51f5c54d2ebafea472966dbb49~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"ccc.gif\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E放大Mian\n\u003Cimg src=\"https:\u002F\u002Fp1-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002Fecf35cbfdaad42aead7f5f23e998ba5f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG65.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E看代码，利用定位改变left的位置进行移动的，这样会造成重排。我们可以利用transform代替，减少重排。\n\u003Cimg src=\"https:\u002F\u002Fp9-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F054db1b57469459c94dc222580654bfb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG66.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E优化后\n\u003Cimg src=\"https:\u002F\u002Fp3-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F5e4ac0eceb974ad3847b5174aeaee9c3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"image.png\" loading=\"lazy\"\u003E\n效果\n\u003Cimg src=\"https:\u002F\u002Fp6-juejin.byteimg.com\u002Ftos-cn-i-k3u1fbpfcp\u002F36643a6ab6d84a07a500a709c1657e45~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp\" alt=\"WechatIMG67.png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E参考文献：\u003C\u002Fp\u003E\n\u003Cp\u003EGoogle 的 \u003Ca href=\"https:\u002F\u002Flink.juejin.cn?target=https%3A%2F%2Fweb.dev%2F\" target=\"_blank\" title=\"https:\u002F\u002Fweb.dev\u002F\" ref=\"nofollow noopener noreferrer\"\u003Eweb.dev\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E",meta_info:"{\"plugins\":[3]}",catalog:"[{\"title\":\"一、 Lighthouse\",\"hash\":\"#heading-0\",\"deep\":1,\"children\":[{\"title\":\"那让我们为了写个dome look look ，把问题制造出来。为了快速，我写的dome是用vuecli 4.0所以很多webpack配置是内置的，但我实际工作用的是react，无论脚手架怎么变，原理不会变。\",\"hash\":\"#heading-1\",\"deep\":2,\"children\":[{\"title\":\"1. Use HTPP\u002F2\",\"hash\":\"#heading-2\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"2. Remove unused CSS 或者 Remove unused JavaScript（移除无用的js和css）\",\"hash\":\"#heading-3\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"3.Serve static assets with an efficient cache policy（为静态资源提供缓存）\",\"hash\":\"#heading-4\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"4.Minimize main-thread work  最小化主线程工作\",\"hash\":\"#heading-5\",\"deep\":3,\"children\":[{\"title\":\"如何分析非关键代码\",\"hash\":\"#heading-6\",\"deep\":4,\"children\":[]}],\"visible\":true},{\"title\":\"5.Ensure text remains visible during webfont load确保文本在Webfont加载期间保持可见\",\"hash\":\"#heading-7\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"7. Reduce JavaScript execution time 减少js的执行时间\",\"hash\":\"#heading-8\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"8. Avoid enormous network payloads 避免大量的网络负载\",\"hash\":\"#heading-9\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"9. Eliminate render-blocking resources消除渲染阻止资源\",\"hash\":\"#heading-10\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"11.Defer offscreen images 延迟加载具有lazysizes的屏幕外图像\",\"hash\":\"#heading-11\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"13. Image elements do not have explicit width and height 图片设置宽高\",\"hash\":\"#heading-12\",\"deep\":3,\"children\":[{\"title\":\"CLS较差的最常见原因是：\",\"hash\":\"#heading-13\",\"deep\":4,\"children\":[]}],\"visible\":true}],\"visible\":true}],\"visible\":true},{\"title\":\"二、 Performance（当页面卡顿、慢时可以使用Performance来分析问题）\",\"hash\":\"#heading-14\",\"deep\":1,\"children\":[{\"title\":\"想了解Performance呈现的结果，需要知道浏览器的渲染知识，这里大概罗列一下（懂的可以跳过，直接看后面案例分析）。\",\"hash\":\"#heading-15\",\"deep\":2,\"children\":[],\"visible\":true},{\"title\":\"1. Performance指标值\",\"hash\":\"#heading-16\",\"deep\":2,\"children\":[],\"visible\":true},{\"title\":\"2. RAIL 性能模型\",\"hash\":\"#heading-17\",\"deep\":2,\"children\":[],\"visible\":true},{\"title\":\"3.Performancem面板参数\",\"hash\":\"#heading-18\",\"deep\":2,\"children\":[{\"title\":\"下面举两个例子来了解一下，怎么找出性能问题，并且解决\",\"hash\":\"#heading-19\",\"deep\":3,\"children\":[],\"visible\":true},{\"title\":\"再举个简单，无伤大雅的例子\",\"hash\":\"#heading-20\",\"deep\":3,\"children\":[],\"visible\":true}],\"visible\":true}],\"visible\":true}]"},author_user_info:{user_id:w,user_name:D,company:e,job_title:"前端程序媛",avatar_large:"https:\u002F\u002Fp6-passport.byteacctimg.com\u002Fimg\u002Fuser-avatar\u002F5a06a8d4ca947132adcc846b26cf3e5c~300x300.image",level:E,description:"菜菜的前端程序媛",followee_count:14,follower_count:155,post_article_count:F,digg_article_count:90,got_digg_count:807,got_view_count:81745,post_shortmsg_count:b,digg_shortmsg_count:g,isfollowed:a,favorable_author:b,power:G,study_point:b,university:{university_id:f,name:e,logo:e},major:{major_id:f,parent_id:f,name:e},student_status:b,select_event_count:b,select_online_course_count:b,identity:b,is_select_annual:a,select_annual_rank:b,annual_list_type:b,extraMap:{},is_logout:b,annual_info:[],account_amount:b,user_growth_info:{user_id:2488950055245405,jpower:G,jscore:581.2,jpower_level:E,jscore_level:F,jscore_title:"先锋掘友",author_achievement_list:[],vip_level:b,vip_title:e,jscore_next_level_score:2000,jscore_this_level_mini_score:500,vip_score:b},is_vip:a,become_author_days:b,collection_set_article_count:b,recommend_article_count_daily:b,article_collect_count_daily:b},category:{category_id:"6809637767543259144",category_name:"前端",category_url:"frontend",rank:t,back_ground:"https:\u002F\u002Flc-mhke0kuv.cn-n1.lcfile.com\u002F8c95587526f346c0.png",icon:"https:\u002F\u002Flc-mhke0kuv.cn-n1.lcfile.com\u002F1c40f5eaba561e32.png",ctime:1457483942,mtime:1432503190,show_type:r,item_type:t,promote_tag_cap:E,promote_priority:t,id:"6809637767543259144",name:"前端",title:"前端",alias:"frontend"},tags:[{entriesCount:l,subscribed:a,id:"6809641167680962568",tag_id:"6809641167680962568",tag_name:"性能优化",color:e,icon:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fgold-user-assets\u002F1552374613638f172b668f237482fee67f11b7ac8c181.jpg~tplv-t2oaga2asx-image.image",back_ground:e,show_navi:b,ctime:1548033194,mtime:1692360511,id_type:9,tag_alias:"Performance optimization",post_article_count:4146,concern_user_count:49554,title:"性能优化",tagId:"6809641167680962568",articleCount:4146,subscribersCount:49554,createdAt:c,updatedAt:c},{entriesCount:l,subscribed:a,id:"6809640407484334093",tag_id:"6809640407484334093",tag_name:"前端",color:"#60ADFF",icon:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fleancloud-assets\u002Fbac28828a49181c34110.png~tplv-t2oaga2asx-image.image",back_ground:e,show_navi:g,ctime:1435971546,mtime:1692360511,id_type:9,tag_alias:e,post_article_count:401030,concern_user_count:661289,title:"前端",tagId:"6809640407484334093",articleCount:401030,subscribersCount:661289,createdAt:c,updatedAt:c},{entriesCount:l,subscribed:a,id:"6809640404791590919",tag_id:"6809640404791590919",tag_name:"面试",color:"#545454",icon:"https:\u002F\u002Fp1-jj.byteimg.com\u002Ftos-cn-i-t2oaga2asx\u002Fleancloud-assets\u002F85dd1ce8008458ac220c.png~tplv-t2oaga2asx-image.image",back_ground:e,show_navi:b,ctime:1435971430,mtime:1692361314,id_type:9,tag_alias:e,post_article_count:40006,concern_user_count:455213,title:"面试",tagId:"6809640404791590919",articleCount:40006,subscribersCount:455213,createdAt:c,updatedAt:c}],user_interact:{id:6965744691979485000,omitempty:t,user_id:b,is_digg:a,is_follow:a,is_collect:a,collect_set_count:b},org:{org_info:c,is_followed:a},req_id:"20230818202917D004EC628A337BD8310F",status:{push_status:b},theme_list:[],title:x,user:H,viewCount:l,commentsCount:C,isEvent:l,abstract:y,latestCommentAt:c,createdAt:new Date(1621838854000),updatedAt:c,isTopicEvent:a,likedCount:s,likeCount:s,content:e,originalUrl:e,type:"post",collected:a,viewsCount:A,username:D,viewerHasLiked:a,draftId:z,collectionCount:B,isCache:d},entryView:{},author:H,adEntryList:[],relatedEntryList:[],selectedList:[],linkVotingList:[{keyword:"dubbo注解",url:"https:\u002F\u002Fbackend.devrank.cn\u002Ftraffic-aggregation\u002F1043719",type:o},{keyword:"mysql 显示方式",url:"https:\u002F\u002Fbackend.devrank.cn\u002Ftraffic-aggregation\u002F1097922",type:o},{keyword:"mybatis sql lang",url:"https:\u002F\u002Fbackend.devrank.cn\u002Ftraffic-aggregation\u002F1148724",type:o},{keyword:"mysql navicat 绿色",url:"https:\u002F\u002Fbackend.devrank.cn\u002Ftraffic-aggregation\u002F1195367",type:o}],userAnnuals:[],columnList:[],hitArticleCache:d,authorCard:{},relatedLoaded:a,dynamicDataReady:a,followAuthorPopupTime:b,followAuthorPopupType:b,authorBlockVisible:b,compVisible:{},version:r,actionType:{FETCH:"view\u002Fcolumn\u002FFETCH",FETCH_RELATED:"view\u002Fcolumn\u002FFETCH_RELATED",FETCH_RECOMMEND:"view\u002Fcolumn\u002FFETCH_RECOMMEND",FETCH_SELECTED:"view\u002Fcolumn\u002FFETCH_SELECTED",FETCH_ADDITIONAL:"view\u002Fcolumn\u002FFETCH_ADDITIONAL",FETCH_SIDEBAR_ADENTRY:"view\u002Fcolumn\u002FFETCH_SIDEBAR_ADENTRY",FETCH_AUTHOR_EXTRA:"view\u002Fcolumn\u002FFETCH_AUTHOR_EXTRA",MD_FALLBACK_RENDER:"view\u002Fcolumn\u002FMD_FALLBACK_RENDER",RESET:"view\u002Fcolumn\u002FRESET"},recommendedArticleList:{list:[],cursor:f,loading:a,skeleton:d,hasMore:a,articleId:e,actionType:{UPDATE_STATE:"view\u002Fcolumn\u002Frecommend-List\u002FUPDATE_STATE",FETCH_MORE:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH_MORE",FETCH:"view\u002Fcolumn\u002Frecommend-List\u002FFETCH",RESET:"view\u002Fcolumn\u002Frecommend-List\u002FRESET"}}},collection:{collection:{author:{}},actionType:{FETCH:"@\u002Fview\u002Fcollection\u002FFETCH",REFRESH:"@\u002Fview\u002Fcollection\u002FREFRESH",RESET:"@\u002Fview\u002Fcollection\u002FRESET"},list:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fcollection\u002Flist\u002FUPDATE",FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fcollection\u002Flist\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fcollection\u002Flist\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fcollection\u002Flist\u002FRESET"},id:e,sort:n}},gettingStarted:{category:{},actionType:{UPDATE_STATE:"@\u002Fview\u002FgettingStarted\u002FUPDATE_STATE",FOLLOW:"@\u002Fview\u002FgettingStarted\u002FFOLLOW",RESET:"@\u002Fview\u002FgettingStarted\u002FRESET",UPDATE_CATEGORY:"@\u002Fview\u002FgettingStarted\u002FUPDATE_CATEGORY"}},pin:{pin:{user:{},imageUrlList:[]},pinList:[],actionType:{FETCH:"@\u002Fview\u002Fpin\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002FRESET"},sidebar:{list:[],after:e,loading:a,isRecommend:a,hasNextPage:d,actionType:{UPDATE_STATE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH_MORE",FETCH:"@\u002Fview\u002Fpin\u002Fsidebar\u002FFETCH",RESET:"@\u002Fview\u002Fpin\u002Fsidebar\u002FRESET"}},commentList:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FcommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FcommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FcommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FcommentList\u002FRESET"},pinId:c},subCommentList:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FUPDATE",FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fpin\u002FsubCommentList\u002FRESET"},commentId:c}},topic:{topic:e,followedTopicList:[],actionType:{FETCH:"@\u002Fview\u002Ftopic\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002FUPDATE_STATE",RESET:"@\u002Fview\u002Ftopic\u002FRESET"},allTopicList:{pageSize:I,page:b,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FallTopicList\u002FRESET"},sortType:m},pinlist:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FpinList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FpinList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FpinList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FpinList\u002FRESET"},sortType:q},sidebar:{actionType:{RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FRESET",UPDATE_STATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002FUPDATE_STATE"},attender:{pageSize:h,page:g,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002Fsidebar\u002Fattender\u002FRESET"},topicId:c}},followedList:{pageSize:I,page:b,total:b,pointer:c,lastPointer:c,list:[],loading:a,error:c,canPrev:d,canNext:d,linkList:[],lastFetchOnServer:a,actionType:{UPDATE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FUPDATE",FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH",FORCE_FETCH:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFORCE_FETCH",FETCH_MORE:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FFETCH_MORE",RESET:"@\u002Fview\u002Ftopic\u002FfollowedList\u002FRESET"},after:b}},recommendationIndex:{actionType:{FETCH_USER:"@\u002Fview\u002Frecommendation\u002FFETCH_USER",FETCH_MORE:"@\u002Fview\u002Frecommendation\u002FFETCH_MORE",RESET:"@\u002Fview\u002Frecommendation\u002FRESET",FETCH:"@\u002Fview\u002Frecommendation\u002FFETCH"},cursor:e,hasMore:e,userList:[],loading:a,skeleton:d,category:j,categoryNavList:[],serverRenderUserList:a},event:{event:{},loading:a,user:{},actionType:{FETCH:"view\u002Fevent\u002FFETCH",RESET:"view\u002Fevent\u002FRESET"}},coursesIndex:{loading:a,list:[],sort:"online",actionType:{FETCH:"view\u002Fcourses\u002FFETCH",RESET:"view\u002Fcourses\u002FRESET",FETCH_MORE:"view\u002Fcourses\u002FFETCH_MORE"}},team:{team:{},loading:d,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FFETCH",RESET:"@\u002Fview\u002Fteam\u002FRESET",UPDATE:"@\u002Fview\u002Fteam\u002FUPDATE",FOLLOW:"@\u002Fview\u002Fteam\u002FFOLLOW"},detailList:{actionType:{RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002FRESET"},posts:{list:[],hasMore:a,skeleton:a,loading:a,sort:n,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fposts\u002FRESET"}},pins:{list:[],hasMore:a,loading:a,skeleton:d,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fpins\u002FRESET"}},hire:{list:[],hasMore:a,cursor:f,loading:a,skeleton:d,actionType:{FETCH:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH",UPDATE_STATE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FUPDATE_STATE",FETCH_MORE:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FFETCH_MORE",RESET:"@\u002Fview\u002Fteam\u002FdetailList\u002Fhire\u002FRESET"}}}},couponList:{list:{"0":u,"1":u,"2":u},showTooltip:a},payment:{selectedDiscount:{},bookletDetail:{},coupons:{availables:[],unavailables:[]},discountList:[]},activityVip:{selectedVipSku:{}}},component:{indexAside:{bannerList:[],userList:[],actionType:{FETCH_BANNER:"@\u002Fcomponent\u002Faside\u002FFETCH_BANNER",FETCH_USER:"@\u002Fcomponent\u002Faside\u002FFETCH_USER",CLOSE_BANNER:"@\u002Fcomponent\u002Faside\u002FCLOSE_BANNER"}}},dislike:{whiteList:["1398234521548542",J,K,L,M,N,O],officialList:[J,K,"3984285868490807",L,"3562073405009031",M,"4433674252325966","53218623894222","2110693287406632","2498524693925623","430664288836334",N,O,"2832783991648407","3386151545092589"]},ore:{oreCount:b},avatarMenuInfo:{user_basic:{},user_counter:{},user_growth_info:{}},common:{theme:"light",isFollowSystem:a},env:{ua:"Mozilla\u002F5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F120.0.0.0 Safari\u002F537.36",serverEnv:"production",logId:"20231223011203831AEAA8B3D9D8AE3D46"},auth:{user:c,clientId:c,token:c,qrCode:c,qrCodeStatus:c,qrCodeToken:c,userInitiated:a,loginTeaParams:l},tag:{subscribedTagList:[]},entry:{isLikeLoading:a},collection:{},comment:{},bookComment:{},repoComment:{},category:{list:[]},user:{subscribedTagList:[]},notification:{unreadCount:{user:b,system:b,total:b}},error:{location:c,errorView:c,statusCode:200,needRiskModal:a,riskAppealUrl:e},abTest:{info:{}},suspensionPanel:{needSuspension:d},pinComment:{},pin:{deleteDialogVisible:a,reportDialogVisible:a,targetPin:c,isOnFocus:a},topic:{visible:a},activity:{"2020":{},offer:{is_show:b,start_time:b},voteData:l},header:{leadStep:b,isPopupZlink:a},tcc:{tccConfig:c},adAssets:{adverts:[]},route:{name:P,path:v,hash:e,query:{},params:{id:k},fullPath:v,meta:{isAvailableDarkMode:d},from:{name:c,path:Q,hash:e,query:{},params:{},fullPath:Q,meta:{}}}},serverRendered:d,routePath:v,config:{API_HOST:"api.juejin.cn",CAPTCHA_HOST:"verify.snssdk.com",PLATFORM_APPID:{wechat:1277,weibo:1276,github:1045,wechatApp:1070},SCM_VERSION:"1.0.0.154",REGISTERED_ROUTES:[P,"selfPost","noCDNPost","SeoSearch"],http:{}},globalRefs:{}}}(false,0,null,true,"","0",1,20,"topic","recommended","6965744691979485197",void 0,"hot","newest","后端","following","popular",3,335,2,{},"\u002Fpost\u002F6965744691979485197","2488950055245405","web性能优化（Lighthouse和performance）：从实际项目入手，如何监测性能问题、如何解决。","一篇文章演示如何监测项目的性能问题，一步一步来解决发现的web性能问题。使用工具Lighthouse和performance","6953809355720359967",19594,475,34,"蓝蓝酱",4,5,2866,{},100,"1556564194374926","940837680722589","2780007432717400","1204720443866983","852876722177533","3227821828225517","column","\u002F"));</script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/92905a0.js" defer></script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/6ec0db9.js" defer></script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/2f4bee9.js" defer></script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/884e1bc.js" defer></script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/60514e1.js" defer></script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/643346e.js" defer></script><script src="//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/cf91295.js" defer></script>
  </body>
</html>
